<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.40">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Data Structures and Manipulations</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-549806ee2085284f45b00abea8c6df48.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap-2eb2de9d08919211f8a1d749abb3db00.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

<link rel="stylesheet" href="../assets/styles.css">
</head>

<body class="nav-sidebar docked">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../units/intro.html">Modules</a></li><li class="breadcrumb-item"><a href="../units/data.html">Data Structures</a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation docked overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="../">Voleon R Bootcamp</a> 
        <div class="sidebar-tools-main">
    <a href="https://github.com/paciorek/r-voleon-2025" title="" class="quarto-navigation-tool px-1" aria-label=""><i class="bi bi-github"></i></a>
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Home / Schedule</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../prep.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Preparation</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true">
 <span class="menu-text">Modules</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../units/intro.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Basic Introduction (Module “0”)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../units/data.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">Data Structures</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../units/calculation.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Calculation</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../units/programming.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Programming</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../units/tidyverse.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Data Wrangling</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../units/ggplot.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Plotting (ggplot)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../units/analysis.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Basic Analysis/Useful Packages</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../units/speed.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Parallelization/Rcpp</span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#suggestions-on-how-to-get-the-most-out-of-the-bootcamp" id="toc-suggestions-on-how-to-get-the-most-out-of-the-bootcamp" class="nav-link active" data-scroll-target="#suggestions-on-how-to-get-the-most-out-of-the-bootcamp">Suggestions on how to get the most out of the bootcamp</a></li>
  <li><a href="#what-is-r" id="toc-what-is-r" class="nav-link" data-scroll-target="#what-is-r">What is R?</a></li>
  <li><a href="#why-r" id="toc-why-r" class="nav-link" data-scroll-target="#why-r">Why R?</a></li>
  <li><a href="#why-not-r" id="toc-why-not-r" class="nav-link" data-scroll-target="#why-not-r">Why Not R?</a></li>
  <li><a href="#modes-of-using-r" id="toc-modes-of-using-r" class="nav-link" data-scroll-target="#modes-of-using-r">Modes of using R</a></li>
  <li><a href="#rstudio-and-r-markdown" id="toc-rstudio-and-r-markdown" class="nav-link" data-scroll-target="#rstudio-and-r-markdown">RStudio and R Markdown</a></li>
  <li><a href="#starting-r-and-rstudio" id="toc-starting-r-and-rstudio" class="nav-link" data-scroll-target="#starting-r-and-rstudio">Starting R and RStudio</a></li>
  <li><a href="#example-dataset" id="toc-example-dataset" class="nav-link" data-scroll-target="#example-dataset">Example dataset</a></li>
  <li><a href="#basic-r-data-structures" id="toc-basic-r-data-structures" class="nav-link" data-scroll-target="#basic-r-data-structures">Basic R data structures</a></li>
  <li><a href="#vectors" id="toc-vectors" class="nav-link" data-scroll-target="#vectors">Vectors</a></li>
  <li><a href="#working-with-indices-and-subsets" id="toc-working-with-indices-and-subsets" class="nav-link" data-scroll-target="#working-with-indices-and-subsets">Working with indices and subsets</a></li>
  <li><a href="#lists" id="toc-lists" class="nav-link" data-scroll-target="#lists">Lists</a></li>
  <li><a href="#data-frames" id="toc-data-frames" class="nav-link" data-scroll-target="#data-frames">Data frames</a></li>
  <li><a href="#data-frames-are-special-lists" id="toc-data-frames-are-special-lists" class="nav-link" data-scroll-target="#data-frames-are-special-lists">Data frames are (special) lists!</a></li>
  <li><a href="#matrices" id="toc-matrices" class="nav-link" data-scroll-target="#matrices">Matrices</a></li>
  <li><a href="#arrays" id="toc-arrays" class="nav-link" data-scroll-target="#arrays">Arrays</a></li>
  <li><a href="#dictionaries" id="toc-dictionaries" class="nav-link" data-scroll-target="#dictionaries">Dictionaries</a></li>
  <li><a href="#attributes" id="toc-attributes" class="nav-link" data-scroll-target="#attributes">Attributes</a></li>
  <li><a href="#missing-values-and-other-special-values" id="toc-missing-values-and-other-special-values" class="nav-link" data-scroll-target="#missing-values-and-other-special-values">Missing values and other special values</a>
  <ul class="collapse">
  <li><a href="#na-is-a-missing-value" id="toc-na-is-a-missing-value" class="nav-link" data-scroll-target="#na-is-a-missing-value"><code>NA</code> is a missing value</a></li>
  <li><a href="#to-infinity-and-beyond" id="toc-to-infinity-and-beyond" class="nav-link" data-scroll-target="#to-infinity-and-beyond">To infinity and beyond</a></li>
  <li><a href="#nan-stands-for-not-a-number" id="toc-nan-stands-for-not-a-number" class="nav-link" data-scroll-target="#nan-stands-for-not-a-number"><code>NaN</code> stands for Not a Number</a></li>
  <li><a href="#null" id="toc-null" class="nav-link" data-scroll-target="#null"><code>NULL</code></a></li>
  </ul></li>
  <li><a href="#logical-vectors-and-boolean-arithmetic" id="toc-logical-vectors-and-boolean-arithmetic" class="nav-link" data-scroll-target="#logical-vectors-and-boolean-arithmetic">Logical vectors and boolean arithmetic</a></li>
  <li><a href="#converting-between-different-types-of-objects" id="toc-converting-between-different-types-of-objects" class="nav-link" data-scroll-target="#converting-between-different-types-of-objects">Converting between different types of objects</a></li>
  <li><a href="#factors" id="toc-factors" class="nav-link" data-scroll-target="#factors">Factors</a></li>
  <li><a href="#strings" id="toc-strings" class="nav-link" data-scroll-target="#strings">Strings</a></li>
  <li><a href="#subsetting" id="toc-subsetting" class="nav-link" data-scroll-target="#subsetting">Subsetting</a>
  <ul class="collapse">
  <li><a href="#by-direct-indexing" id="toc-by-direct-indexing" class="nav-link" data-scroll-target="#by-direct-indexing">1) by direct indexing</a></li>
  <li><a href="#by-a-vector-of-logicals" id="toc-by-a-vector-of-logicals" class="nav-link" data-scroll-target="#by-a-vector-of-logicals">2) by a vector of logicals</a></li>
  <li><a href="#by-a-vector-of-names" id="toc-by-a-vector-of-names" class="nav-link" data-scroll-target="#by-a-vector-of-names">3) by a vector of names</a></li>
  <li><a href="#using-dplyr-tools-such-as-filter-and-select-more-in-module-4" id="toc-using-dplyr-tools-such-as-filter-and-select-more-in-module-4" class="nav-link" data-scroll-target="#using-dplyr-tools-such-as-filter-and-select-more-in-module-4">4) using <em>dplyr</em> tools such as <em>filter()</em> and <em>select()</em> – more in Module 4</a></li>
  </ul></li>
  <li><a href="#assignment-into-subsets" id="toc-assignment-into-subsets" class="nav-link" data-scroll-target="#assignment-into-subsets">Assignment into subsets</a></li>
  <li><a href="#breakout" id="toc-breakout" class="nav-link" data-scroll-target="#breakout">Breakout</a>
  <ul class="collapse">
  <li><a href="#basics" id="toc-basics" class="nav-link" data-scroll-target="#basics">Basics</a></li>
  <li><a href="#using-the-ideas" id="toc-using-the-ideas" class="nav-link" data-scroll-target="#using-the-ideas">Using the ideas</a></li>
  <li><a href="#advanced" id="toc-advanced" class="nav-link" data-scroll-target="#advanced">Advanced</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../units/intro.html">Modules</a></li><li class="breadcrumb-item"><a href="../units/data.html">Data Structures</a></li></ol></nav>
<div class="quarto-title">
<div class="quarto-title-block"><div><h1 class="title">Data Structures and Manipulations</h1><button type="button" class="btn code-tools-button" id="quarto-code-tools-source"><i class="bi"></i> Code</button></div></div>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<section id="suggestions-on-how-to-get-the-most-out-of-the-bootcamp" class="level1">
<h1>Suggestions on how to get the most out of the bootcamp</h1>
<p>I encourage you to:</p>
<ul>
<li>Try out the code as we walk through it.</li>
<li>Keep your eyes open! – We’ll illustrate a lot of syntax and concepts by example.</li>
<li>Try to guess what the syntax means in cases we haven’t yet seen that syntax.</li>
<li>Play with it and try variations and try to break it and see what happens.</li>
<li>Ask questions and comment if something interesting happens as you experiment.</li>
</ul>
<p>This is a bootcamp. So there may be some pain involved! If you find yourself not following everything, that’s ok. You may miss some details, but try to follow the basics and the big picture.</p>
<p>What about using a ChatBot?</p>
<ul>
<li>Great for getting initial syntax (so we’ll focus on concepts)</li>
<li>Great for translating between languages</li>
<li>Can hallucinate syntax</li>
<li>How much and what do we need to learn ourselves?
<ul>
<li>For now, knowledgeable humans still need to review, revise, debug. Right?</li>
</ul></li>
</ul>
</section>
<section id="what-is-r" class="level1">
<h1>What is R?</h1>
<ul>
<li>R is an Open Source (and freely available) environment for statistical computing and graphics</li>
<li>It is a full-featured programming language, in particular a scripting language (with similarities to MATLAB, Julia, and Python)</li>
<li>It can be run interactively or as a batch/background job</li>
<li>R has a variety of built-in as well as community-provided packages that extend its functionality with code and data; see <a href="https://cran.r-project.org/web/packages/index.html">CRAN</a> for the thousands of add-on packages</li>
<li>It is freely-available and modifiable</li>
<li>Available for Windows, Mac OS X, and <a href="http://dilbert.com/strips/comic/1995-06-24/">Linux</a></li>
</ul>
</section>
<section id="why-r" class="level1">
<h1>Why R?</h1>
<ul>
<li>R is widely used (statisticians, data scientists, scientists, social scientists) and has the widest statistical functionality of any software, plus extensive machine learning functionality.
<ul>
<li>Extensive, easy-to-use functionality for working with tabular data and for plotting (e.g., the ‘tidyverse’).</li>
</ul></li>
<li>Users add functionality via packages all the time.</li>
<li>R is free and available on all major platforms.</li>
<li>As a scripting language, R is very powerful, flexible, easy to use, automates tasks, and allows for reproducibility.</li>
<li>As a language, R can do essentially anything</li>
<li>Wide usage helps to improve quality and reduce bugs</li>
<li>R can interact with other software, databases, the operating system, the web, etc.</li>
<li>R is built on C and can call user-written and external C/C++ code and packages (in particular, see the <code>Rcpp</code> R package)</li>
<li>Good support for basic parallelization, in particular using the <code>future</code> package</li>
</ul>
</section>
<section id="why-not-r" class="level1">
<h1>Why Not R?</h1>
<ul>
<li>Other software is better than R at various tasks:
<ul>
<li>Machine learning (particularly deep learning): Python (particularly PyTorch)</li>
<li>Automatic differentiation: Python (particularly JAX, PyTorch), Julia</li>
<li>Interacting with GPUs: Python (particularly JAX, PyTorch), Julia</li>
<li>Parallelization: Julia has more integrated, broader CPU-based parallelization support</li>
<li>General “glue” language for interacting with the web and other tools/applications: <a href="http://imgs.xkcd.com/comics/python.png">Python</a></li>
</ul></li>
<li>R can be much slower than compiled languages or Julia (but is often quite fast with good coding practices!)</li>
<li>R’s packages are only as good as the person who wrote them; no explicit quality control</li>
<li>R is a sprawling and unstandardized ecosystem</li>
</ul>
</section>
<section id="modes-of-using-r" class="level1">
<h1>Modes of using R</h1>
<ul>
<li>Using the RStudio GUI, an <em>integrated development environment</em></li>
<li>With VS Code, including a debugger</li>
<li>In a Jupyter notebook, including a debugger</li>
<li>From the command line in a Linux/Mac terminal window</li>
<li>Running an R script in the background on a Linux/Mac machine (perhaps Windows?)</li>
</ul>
</section>
<section id="rstudio-and-r-markdown" class="level1">
<h1>RStudio and R Markdown</h1>
<p>We’ll present most of the material from within RStudio, using Quarto Markdown (the successor to R Markdown) documents with embedded R code.</p>
<p>Quarto Markdown is an extension to the Markdown markup language that makes it easy to write HTML in a simple plain text format.</p>
<p>This allows us to both run the R code directly as well as compile on-the-fly to an HTML file that can be used for presentation. All files are available on <a href="https://github.com/paciorek/r-voleon-2025">GitHub</a>.</p>
</section>
<section id="starting-r-and-rstudio" class="level1">
<h1>Starting R and RStudio</h1>
<p>The pieces of an RStudio session include:</p>
<ul>
<li>The R console</li>
<li>Scripts containing your code
<ul>
<li>The script window also has Notebook capabilities like Jupyter notebooks</li>
</ul></li>
<li>Help files</li>
<li>Graphics windows</li>
<li>Workspace containing your objects, which hold data and information</li>
</ul>
<p>RStudio provides an integrated development environment in which all of these pieces are in a single application and tightly integrated, with a built-in editor for your code/scripts.</p>
</section>
<section id="example-dataset" class="level1">
<h1>Example dataset</h1>
<p>Many of the modules will use a common dataset as an example on which to carry out various operations. We’ll focus on dataset of demographic/economic information (population, GDP per capita, life expectancy) for many of the countries in the world every five years, provided by the <a href="https://www.gapminder.org">Gapminder project</a>. The data are available by installing and loading the <code>gapminder</code> dataset.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(gapminder)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(gapminder)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 6
  country     continent  year lifeExp      pop gdpPercap
  &lt;fct&gt;       &lt;fct&gt;     &lt;int&gt;   &lt;dbl&gt;    &lt;int&gt;     &lt;dbl&gt;
1 Afghanistan Asia       1952    28.8  8425333      779.
2 Afghanistan Asia       1957    30.3  9240934      821.
3 Afghanistan Asia       1962    32.0 10267083      853.
4 Afghanistan Asia       1967    34.0 11537966      836.
5 Afghanistan Asia       1972    36.1 13079460      740.
6 Afghanistan Asia       1977    38.4 14880372      786.</code></pre>
</div>
</div>
</section>
<section id="basic-r-data-structures" class="level1">
<h1>Basic R data structures</h1>
<ul>
<li>Vectors (of numbers, strings, booleans, etc.)</li>
<li>Matrices and arrays</li>
<li>Lists (collections of potentially heterogeneous information)</li>
<li>Dataframes (for tabular data with heterogeneous column types)</li>
</ul>
</section>
<section id="vectors" class="level1">
<h1>Vectors</h1>
<p>The most basic form of an R object is a vector.</p>
<p>We can concatenate values into a vector with <code>c()</code> or generate them as a whole:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="do">## numeric vector</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>nums <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fl">1.1</span>, <span class="dv">3</span>, <span class="sc">-</span><span class="fl">5.7</span>)</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>devs <span class="ot">&lt;-</span> <span class="fu">rnorm</span>(<span class="dv">5</span>)</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>devs</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1]  1.04516058 -0.03763157 -0.22055965  0.01706605 -1.97102849</code></pre>
</div>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="do">## integer vector</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>ints <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>L, <span class="dv">5</span>L, <span class="sc">-</span><span class="dv">3</span>L) <span class="co"># Force storage as integer not real number.</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a><span class="do">## 'L' is for 'long integer' (historical, from C)</span></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a><span class="do">## All objects in R belong to a class (more in Unit 3)</span></span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(devs)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "numeric"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(ints)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "integer"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="do">## Internal representation (in underlying C objects)</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="fu">typeof</span>(devs)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "double"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="fu">typeof</span>(ints)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "integer"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="do">## character vector</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>chars <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">'hi'</span>, <span class="st">'hallo'</span>, <span class="st">"mother's"</span>, <span class="st">'father</span><span class="sc">\'</span><span class="st">s'</span>, </span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>   <span class="st">"She said, 'hi'"</span>, <span class="st">"He said, </span><span class="sc">\"</span><span class="st">hi</span><span class="sc">\"</span><span class="st">"</span> )</span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>chars</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "hi"              "hallo"           "mother's"        "father's"       
[5] "She said, 'hi'"  "He said, \"hi\""</code></pre>
</div>
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(chars, <span class="at">sep =</span> <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>hi
hallo
mother's
father's
She said, 'hi'
He said, "hi"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="do">## logical vector</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>bools <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="cn">TRUE</span>, <span class="cn">FALSE</span>, <span class="cn">TRUE</span>)</span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>bools</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1]  TRUE FALSE  TRUE</code></pre>
</div>
</div>
</section>
<section id="working-with-indices-and-subsets" class="level1">
<h1>Working with indices and subsets</h1>
<p>As seen in Module 0, we can subset (aka “slice”) using a variety of approaches.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>vals <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">12</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>vals[<span class="dv">3</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 3</code></pre>
</div>
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>vals[<span class="dv">3</span><span class="sc">:</span><span class="dv">5</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 3 4 5</code></pre>
</div>
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>vals[<span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">6</span>)]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1 3 6</code></pre>
</div>
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>vals[<span class="sc">-</span><span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">6</span>)]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1]  2  4  5  7  8  9 10 11 12</code></pre>
</div>
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>vals[<span class="fu">c</span>(<span class="fu">rep</span>(<span class="cn">TRUE</span>, <span class="dv">3</span>), <span class="fu">rep</span>(<span class="cn">FALSE</span>, <span class="dv">2</span>), <span class="cn">TRUE</span>, <span class="fu">rep</span>(<span class="cn">FALSE</span>, <span class="dv">6</span>))]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1 2 3 6</code></pre>
</div>
</div>
<p>We can substitute values into vectors:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a>vals[<span class="dv">4</span>] <span class="ot">&lt;-</span> <span class="fl">822.9711</span></span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>vals[<span class="dv">3</span><span class="sc">:</span><span class="dv">4</span>] <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fl">7.5</span>, <span class="fl">2.4</span>)</span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a>vals[<span class="dv">2</span><span class="sc">:</span><span class="dv">4</span>] <span class="ot">&lt;-</span> <span class="dv">0</span>  <span class="co"># Recycling</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>The last substitution uses “recycling” to match the left-hand-side extent (3 elements) with the right-hand-side extent (1 element)</p>
</section>
<section id="lists" class="level1">
<h1>Lists</h1>
<p>Collections of disparate or complicated objects</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a>myList <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="at">stuff =</span> <span class="dv">3</span>, <span class="at">mat =</span> <span class="fu">matrix</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>, <span class="at">nrow =</span> <span class="dv">2</span>), </span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a>   <span class="at">moreStuff =</span> <span class="fu">c</span>(<span class="st">"china"</span>, <span class="st">"japan"</span>), <span class="fu">list</span>(<span class="dv">5</span>, <span class="st">"bear"</span>))</span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a>myList</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>$stuff
[1] 3

$mat
     [,1] [,2]
[1,]    1    3
[2,]    2    4

$moreStuff
[1] "china" "japan"

[[4]]
[[4]][[1]]
[1] 5

[[4]][[2]]
[1] "bear"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a>myList[[<span class="dv">3</span>]] <span class="co"># result is not (usually) a list (unless you have nested lists)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "china" "japan"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="fu">identical</span>(myList[[<span class="dv">3</span>]], myList<span class="sc">$</span>moreStuff)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] TRUE</code></pre>
</div>
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a>myList<span class="sc">$</span>moreStuff[<span class="dv">2</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "japan"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a>myList[[<span class="dv">4</span>]][[<span class="dv">2</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "bear"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a>myList[<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>] <span class="co"># subset of a list is a list</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>$stuff
[1] 3

$mat
     [,1] [,2]
[1,]    1    3
[2,]    2    4

$moreStuff
[1] "china" "japan"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a>myList<span class="sc">$</span>newOne <span class="ot">&lt;-</span> <span class="st">'more weird stuff'</span></span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(myList)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "stuff"     "mat"       "moreStuff" ""          "newOne"   </code></pre>
</div>
</div>
<p>Lists can be used as vectors of complicated objects. E.g., suppose you have a linear regression for each value of a stratifying variable. You could have a list of regression fits. Each regression fit will itself be a list (with coeffs, residuals, p-values, R^2), so you’ll have a list of lists.</p>
<div class="callout callout-style-default callout-tip callout-titled" title="Question">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Question
</div>
</div>
<div class="callout-body-container callout-body">
<p>How would you extract “china” from this list?</p>
<pre><code>myList &lt;- list(stuff = 3, mat = matrix(1:4, nrow = 2), 
   moreStuff = c("china", "japan"), list(5, "bear"))</code></pre>
<p>Which of these work correctly?</p>
<ol type="1">
<li>myList$moreStuff[1]</li>
<li>myList$moreStuff[[1]]</li>
<li>myList[[1]]</li>
<li>myList[[3]][2]</li>
<li>myList[[3]][1]</li>
<li>myList[3][1]</li>
<li>myList[[‘moreStuff’]][1]</li>
</ol>
</div>
</div>
<p>Lists are just vectors of heterogeneous elements. The <code>[[</code> syntax allows you to pick out individual elements.</p>
</section>
<section id="data-frames" class="level1">
<h1>Data frames</h1>
<ul>
<li>Data frames are combinations of vectors of the same length, but can be of different types (unlike matrices)</li>
<li>Data frames are what is used for standard rectangular (record by field) datasets, similar to a spreadsheet sheet/page or a database table</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(gapminder)</span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(gapminder)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 6
  country     continent  year lifeExp      pop gdpPercap
  &lt;fct&gt;       &lt;fct&gt;     &lt;int&gt;   &lt;dbl&gt;    &lt;int&gt;     &lt;dbl&gt;
1 Afghanistan Asia       1952    28.8  8425333      779.
2 Afghanistan Asia       1957    30.3  9240934      821.
3 Afghanistan Asia       1962    32.0 10267083      853.
4 Afghanistan Asia       1967    34.0 11537966      836.
5 Afghanistan Asia       1972    36.1 13079460      740.
6 Afghanistan Asia       1977    38.4 14880372      786.</code></pre>
</div>
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a>gapminder<span class="sc">$</span>lifeExp[<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] 28.801 30.332 31.997 34.020 36.088 38.438 39.854 40.822 41.674 41.763</code></pre>
</div>
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(gapminder)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1704    6</code></pre>
</div>
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a><span class="fu">nrow</span>(gapminder)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1704</code></pre>
</div>
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(gapminder)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "country"   "continent" "year"      "lifeExp"   "pop"       "gdpPercap"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(gapminder)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "tbl_df"     "tbl"        "data.frame"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a><span class="fu">is.matrix</span>(gapminder)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] FALSE</code></pre>
</div>
<div class="sourceCode cell-code" id="cb59"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(gapminder<span class="sc">$</span>year)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "integer"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb61"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(gapminder<span class="sc">$</span>lifeExp)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "numeric"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb63"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb63-1"><a href="#cb63-1" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(gapminder<span class="sc">$</span>country)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "factor"</code></pre>
</div>
</div>
</section>
<section id="data-frames-are-special-lists" class="level1">
<h1>Data frames are (special) lists!</h1>
<div class="cell">
<div class="sourceCode cell-code" id="cb65"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb65-1"><a href="#cb65-1" aria-hidden="true" tabindex="-1"></a><span class="fu">is.list</span>(gapminder)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] TRUE</code></pre>
</div>
<div class="sourceCode cell-code" id="cb67"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb67-1"><a href="#cb67-1" aria-hidden="true" tabindex="-1"></a><span class="fu">length</span>(gapminder)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 6</code></pre>
</div>
<div class="sourceCode cell-code" id="cb69"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb69-1"><a href="#cb69-1" aria-hidden="true" tabindex="-1"></a>gapminder[[<span class="dv">3</span>]][<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1952 1957 1962 1967 1972</code></pre>
</div>
<div class="sourceCode cell-code" id="cb71"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb71-1"><a href="#cb71-1" aria-hidden="true" tabindex="-1"></a><span class="fu">lapply</span>(gapminder, class) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>$country
[1] "factor"

$continent
[1] "factor"

$year
[1] "integer"

$lifeExp
[1] "numeric"

$pop
[1] "integer"

$gdpPercap
[1] "numeric"</code></pre>
</div>
</div>
<p><code>lapply()</code> is a function used on lists; it works here to apply the <code>class()</code> function to each element of the list, which in this case is each field/column.</p>
</section>
<section id="matrices" class="level1">
<h1>Matrices</h1>
<p>If you need to do numeric calculations on an entire non-vector object (dimension &gt; 1), you generally want to use matrices and arrays, not data frames.</p>
<ul>
<li>Matrices are two-dimensional collections of values of the same type.</li>
<li>We can have numeric, integer, character, or logical matrices.</li>
<li>You can’t mix types within a matrix.</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb73"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb73-1"><a href="#cb73-1" aria-hidden="true" tabindex="-1"></a>mat <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="fu">rnorm</span>(<span class="dv">12</span>), <span class="at">nrow =</span> <span class="dv">3</span>, <span class="at">ncol =</span> <span class="dv">4</span>)</span>
<span id="cb73-2"><a href="#cb73-2" aria-hidden="true" tabindex="-1"></a>mat</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>           [,1]       [,2]       [,3]       [,4]
[1,]  0.4896124 -0.9208910 -1.1884172 -1.6276036
[2,] -1.3112041 -0.1100885  0.3182333 -1.0269114
[3,] -1.1364096  1.2102654 -0.9854634 -0.7792454</code></pre>
</div>
<div class="sourceCode cell-code" id="cb75"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb75-1"><a href="#cb75-1" aria-hidden="true" tabindex="-1"></a><span class="do">## Basic linear algebra</span></span>
<span id="cb75-2"><a href="#cb75-2" aria-hidden="true" tabindex="-1"></a>n <span class="ot">&lt;-</span> <span class="dv">4</span></span>
<span id="cb75-3"><a href="#cb75-3" aria-hidden="true" tabindex="-1"></a>A <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">16</span>, <span class="dv">4</span>)</span>
<span id="cb75-4"><a href="#cb75-4" aria-hidden="true" tabindex="-1"></a>B <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="dv">1</span>, <span class="dv">4</span>, <span class="dv">4</span>)</span>
<span id="cb75-5"><a href="#cb75-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb75-6"><a href="#cb75-6" aria-hidden="true" tabindex="-1"></a>A <span class="sc">%*%</span> B[ , <span class="dv">1</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     [,1]
[1,]   28
[2,]   32
[3,]   36
[4,]   40</code></pre>
</div>
<div class="sourceCode cell-code" id="cb77"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb77-1"><a href="#cb77-1" aria-hidden="true" tabindex="-1"></a>A <span class="sc">%*%</span> B</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     [,1] [,2] [,3] [,4]
[1,]   28   28   28   28
[2,]   32   32   32   32
[3,]   36   36   36   36
[4,]   40   40   40   40</code></pre>
</div>
</div>
</section>
<section id="arrays" class="level1">
<h1>Arrays</h1>
<p>Arrays are like matrices but can have more or fewer than two dimensions.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb79"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb79-1"><a href="#cb79-1" aria-hidden="true" tabindex="-1"></a>arr <span class="ot">&lt;-</span> <span class="fu">array</span>(<span class="fu">rnorm</span>(<span class="dv">12</span>), <span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>))</span>
<span id="cb79-2"><a href="#cb79-2" aria-hidden="true" tabindex="-1"></a>arr</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>, , 1

         [,1]      [,2]        [,3]
[1,] 0.704287 0.2946375  1.86227278
[2,] 1.430662 0.2312704 -0.07392677

, , 2

           [,1]       [,2]      [,3]
[1,] 0.04111435  0.3294072 0.1741718
[2,] 0.09864504 -1.0811865 1.1266186

, , 3

         [,1]      [,2]        [,3]
[1,] 0.704287 0.2946375  1.86227278
[2,] 1.430662 0.2312704 -0.07392677

, , 4

           [,1]       [,2]      [,3]
[1,] 0.04111435  0.3294072 0.1741718
[2,] 0.09864504 -1.0811865 1.1266186</code></pre>
</div>
</div>
</section>
<section id="dictionaries" class="level1">
<h1>Dictionaries</h1>
<p>R does not have dictionaries. For collections of key-value pairs, you can instead use named vectors or named lists.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb81"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb81-1"><a href="#cb81-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">3</span>, <span class="dv">5</span>, <span class="dv">7</span>)</span>
<span id="cb81-2"><a href="#cb81-2" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(x) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"sarah"</span>, <span class="st">"carlos"</span>, <span class="st">"maude"</span>)  <span class="co"># Homogeneous</span></span>
<span id="cb81-3"><a href="#cb81-3" aria-hidden="true" tabindex="-1"></a>x[<span class="st">'carlos'</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>carlos 
     5 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb83"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb83-1"><a href="#cb83-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="st">"sarah"</span> <span class="ot">=</span> <span class="dv">3</span>, <span class="st">"carlos"</span> <span class="ot">=</span> <span class="st">"foo"</span>, <span class="st">"maude"</span> <span class="ot">=</span> <span class="fu">rnorm</span>(<span class="dv">4</span>))  <span class="co"># Heterogeneous</span></span>
<span id="cb83-2"><a href="#cb83-2" aria-hidden="true" tabindex="-1"></a>x[[<span class="st">'maude'</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1]  0.06673215  0.13984796 -1.89433413 -0.01587353</code></pre>
</div>
</div>
<p>However, lookup does NOT use hashing, so it is O(n) cost. One could instead use R’s environments for fast hash-based lookup.</p>
</section>
<section id="attributes" class="level1">
<h1>Attributes</h1>
<p>Objects have <em>attributes</em>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb85"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb85-1"><a href="#cb85-1" aria-hidden="true" tabindex="-1"></a><span class="fu">attributes</span>(mat)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>$dim
[1] 3 4</code></pre>
</div>
<div class="sourceCode cell-code" id="cb87"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb87-1"><a href="#cb87-1" aria-hidden="true" tabindex="-1"></a><span class="fu">rownames</span>(mat) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">'first'</span>, <span class="st">'middle'</span>, <span class="st">'last'</span>)</span>
<span id="cb87-2"><a href="#cb87-2" aria-hidden="true" tabindex="-1"></a>mat</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>             [,1]       [,2]       [,3]       [,4]
first   0.4896124 -0.9208910 -1.1884172 -1.6276036
middle -1.3112041 -0.1100885  0.3182333 -1.0269114
last   -1.1364096  1.2102654 -0.9854634 -0.7792454</code></pre>
</div>
<div class="sourceCode cell-code" id="cb89"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb89-1"><a href="#cb89-1" aria-hidden="true" tabindex="-1"></a><span class="fu">attributes</span>(mat)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>$dim
[1] 3 4

$dimnames
$dimnames[[1]]
[1] "first"  "middle" "last"  

$dimnames[[2]]
NULL</code></pre>
</div>
<div class="sourceCode cell-code" id="cb91"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb91-1"><a href="#cb91-1" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(<span class="fu">attributes</span>(gapminder))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "names"     "class"     "row.names"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb93"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb93-1"><a href="#cb93-1" aria-hidden="true" tabindex="-1"></a><span class="fu">attributes</span>(gapminder)<span class="sc">$</span>names</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "country"   "continent" "year"      "lifeExp"   "pop"       "gdpPercap"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb95"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb95-1"><a href="#cb95-1" aria-hidden="true" tabindex="-1"></a><span class="fu">attributes</span>(gapminder)<span class="sc">$</span>row.names[<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1]  1  2  3  4  5  6  7  8  9 10</code></pre>
</div>
</div>
</section>
<section id="missing-values-and-other-special-values" class="level1">
<h1>Missing values and other special values</h1>
<p>Since it was designed by statisticians, R handles missing values very well relative to other languages.</p>
<section id="na-is-a-missing-value" class="level2">
<h2 class="anchored" data-anchor-id="na-is-a-missing-value"><code>NA</code> is a missing value</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb97"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb97-1"><a href="#cb97-1" aria-hidden="true" tabindex="-1"></a>vec <span class="ot">&lt;-</span> <span class="fu">rnorm</span>(<span class="dv">12</span>)</span>
<span id="cb97-2"><a href="#cb97-2" aria-hidden="true" tabindex="-1"></a>vec[<span class="fu">c</span>(<span class="dv">3</span>, <span class="dv">5</span>)] <span class="ot">&lt;-</span> <span class="cn">NA</span></span>
<span id="cb97-3"><a href="#cb97-3" aria-hidden="true" tabindex="-1"></a>vec</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] -0.3848068  0.2008003         NA  0.8924384         NA  0.9387817
 [7]  1.1936894 -0.4364204  0.3636581  1.4700999 -0.1274402  0.3295658</code></pre>
</div>
<div class="sourceCode cell-code" id="cb99"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb99-1"><a href="#cb99-1" aria-hidden="true" tabindex="-1"></a><span class="fu">length</span>(vec)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 12</code></pre>
</div>
<div class="sourceCode cell-code" id="cb101"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb101-1"><a href="#cb101-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sum</span>(vec)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] NA</code></pre>
</div>
<div class="sourceCode cell-code" id="cb103"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb103-1"><a href="#cb103-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sum</span>(vec, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 4.440366</code></pre>
</div>
<div class="sourceCode cell-code" id="cb105"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb105-1"><a href="#cb105-1" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>(vec)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="data_files/figure-html/unnamed-chunk-11-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb106"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb106-1"><a href="#cb106-1" aria-hidden="true" tabindex="-1"></a><span class="fu">is.na</span>(vec)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] FALSE FALSE  TRUE FALSE  TRUE FALSE FALSE FALSE FALSE FALSE FALSE FALSE</code></pre>
</div>
</div>
<p>Be careful because many R functions won’t warn you that they are ignoring the missing values.</p>
</section>
<section id="to-infinity-and-beyond" class="level2">
<h2 class="anchored" data-anchor-id="to-infinity-and-beyond">To infinity and beyond</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb108"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb108-1"><a href="#cb108-1" aria-hidden="true" tabindex="-1"></a>big <span class="ot">&lt;-</span> <span class="fl">1e500</span> </span>
<span id="cb108-2"><a href="#cb108-2" aria-hidden="true" tabindex="-1"></a>big</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] Inf</code></pre>
</div>
<div class="sourceCode cell-code" id="cb110"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb110-1"><a href="#cb110-1" aria-hidden="true" tabindex="-1"></a>big <span class="sc">+</span> <span class="dv">7</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] Inf</code></pre>
</div>
</div>
</section>
<section id="nan-stands-for-not-a-number" class="level2">
<h2 class="anchored" data-anchor-id="nan-stands-for-not-a-number"><code>NaN</code> stands for Not a Number</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb112"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb112-1"><a href="#cb112-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sqrt</span>(<span class="sc">-</span><span class="dv">5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in sqrt(-5): NaNs produced</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] NaN</code></pre>
</div>
<div class="sourceCode cell-code" id="cb115"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb115-1"><a href="#cb115-1" aria-hidden="true" tabindex="-1"></a>big <span class="sc">-</span> big</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] NaN</code></pre>
</div>
<div class="sourceCode cell-code" id="cb117"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb117-1"><a href="#cb117-1" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span><span class="sc">/</span><span class="dv">0</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] Inf</code></pre>
</div>
</div>
</section>
<section id="null" class="level2">
<h2 class="anchored" data-anchor-id="null"><code>NULL</code></h2>
<p><code>NA</code> can hold a place but <code>NULL</code> cannot. <code>NULL</code> is useful for having a function argument default to ‘nothing’. See <code>help(crossprod)</code>, which can compute either <span class="math inline">\(X^{\top}X\)</span> or <span class="math inline">\(X^{\top}Y\)</span>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb119"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb119-1"><a href="#cb119-1" aria-hidden="true" tabindex="-1"></a><span class="fu">c</span>(<span class="dv">3</span>, <span class="cn">NA</span>, <span class="dv">7</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1]  3 NA  7</code></pre>
</div>
<div class="sourceCode cell-code" id="cb121"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb121-1"><a href="#cb121-1" aria-hidden="true" tabindex="-1"></a><span class="fu">c</span>(<span class="dv">3</span>, <span class="cn">NULL</span>, <span class="dv">7</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 3 7</code></pre>
</div>
<div class="sourceCode cell-code" id="cb123"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb123-1"><a href="#cb123-1" aria-hidden="true" tabindex="-1"></a>mylist <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="dv">3</span>, <span class="dv">5</span>, <span class="dv">7</span>)</span>
<span id="cb123-2"><a href="#cb123-2" aria-hidden="true" tabindex="-1"></a>mylist[[<span class="dv">2</span>]] <span class="ot">&lt;-</span> <span class="cn">NULL</span></span>
<span id="cb123-3"><a href="#cb123-3" aria-hidden="true" tabindex="-1"></a>mylist</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[[1]]
[1] 3

[[2]]
[1] 7</code></pre>
</div>
</div>
</section>
</section>
<section id="logical-vectors-and-boolean-arithmetic" class="level1">
<h1>Logical vectors and boolean arithmetic</h1>
<div class="cell">
<div class="sourceCode cell-code" id="cb125"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb125-1"><a href="#cb125-1" aria-hidden="true" tabindex="-1"></a>gapminder2007 <span class="ot">&lt;-</span> gapminder[gapminder<span class="sc">$</span>year <span class="sc">==</span> <span class="dv">2007</span>, ]</span>
<span id="cb125-2"><a href="#cb125-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb125-3"><a href="#cb125-3" aria-hidden="true" tabindex="-1"></a>wealthy <span class="ot">&lt;-</span> gapminder2007<span class="sc">$</span>gdpPercap <span class="sc">&gt;</span> <span class="dv">35000</span></span>
<span id="cb125-4"><a href="#cb125-4" aria-hidden="true" tabindex="-1"></a>healthy <span class="ot">&lt;-</span> gapminder2007<span class="sc">$</span>lifeExp <span class="sc">&gt;</span> <span class="dv">75</span></span>
<span id="cb125-5"><a href="#cb125-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb125-6"><a href="#cb125-6" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(wealthy)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] FALSE FALSE FALSE FALSE FALSE FALSE</code></pre>
</div>
<div class="sourceCode cell-code" id="cb127"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb127-1"><a href="#cb127-1" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(wealthy)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>wealthy
FALSE  TRUE 
  130    12 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb129"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb129-1"><a href="#cb129-1" aria-hidden="true" tabindex="-1"></a><span class="co"># note the vectorized boolean arithmetic</span></span>
<span id="cb129-2"><a href="#cb129-2" aria-hidden="true" tabindex="-1"></a>gapminder2007[wealthy <span class="sc">&amp;</span> healthy, ]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 12 × 6
   country          continent  year lifeExp       pop gdpPercap
   &lt;fct&gt;            &lt;fct&gt;     &lt;int&gt;   &lt;dbl&gt;     &lt;int&gt;     &lt;dbl&gt;
 1 Austria          Europe     2007    79.8   8199783    36126.
 2 Canada           Americas   2007    80.7  33390141    36319.
 3 Denmark          Europe     2007    78.3   5468120    35278.
 4 Hong Kong, China Asia       2007    82.2   6980412    39725.
 5 Iceland          Europe     2007    81.8    301931    36181.
 6 Ireland          Europe     2007    78.9   4109086    40676.
 7 Kuwait           Asia       2007    77.6   2505559    47307.
 8 Netherlands      Europe     2007    79.8  16570613    36798.
 9 Norway           Europe     2007    80.2   4627926    49357.
10 Singapore        Asia       2007    80.0   4553009    47143.
11 Switzerland      Europe     2007    81.7   7554661    37506.
12 United States    Americas   2007    78.2 301139947    42952.</code></pre>
</div>
<div class="sourceCode cell-code" id="cb131"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb131-1"><a href="#cb131-1" aria-hidden="true" tabindex="-1"></a>gapminder2007[wealthy <span class="sc">|</span> healthy, ]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 44 × 6
   country    continent  year lifeExp      pop gdpPercap
   &lt;fct&gt;      &lt;fct&gt;     &lt;int&gt;   &lt;dbl&gt;    &lt;int&gt;     &lt;dbl&gt;
 1 Albania    Europe     2007    76.4  3600523     5937.
 2 Argentina  Americas   2007    75.3 40301927    12779.
 3 Australia  Oceania    2007    81.2 20434176    34435.
 4 Austria    Europe     2007    79.8  8199783    36126.
 5 Bahrain    Asia       2007    75.6   708573    29796.
 6 Belgium    Europe     2007    79.4 10392226    33693.
 7 Canada     Americas   2007    80.7 33390141    36319.
 8 Chile      Americas   2007    78.6 16284741    13172.
 9 Costa Rica Americas   2007    78.8  4133884     9645.
10 Croatia    Europe     2007    75.7  4493312    14619.
# ℹ 34 more rows</code></pre>
</div>
<div class="sourceCode cell-code" id="cb133"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb133-1"><a href="#cb133-1" aria-hidden="true" tabindex="-1"></a>gapminder2007[wealthy <span class="sc">&amp;</span> <span class="sc">!</span>healthy, ]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 0 × 6
# ℹ 6 variables: country &lt;fct&gt;, continent &lt;fct&gt;, year &lt;int&gt;, lifeExp &lt;dbl&gt;,
#   pop &lt;int&gt;, gdpPercap &lt;dbl&gt;</code></pre>
</div>
<div class="sourceCode cell-code" id="cb135"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb135-1"><a href="#cb135-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Numerical computation with booleans</span></span>
<span id="cb135-2"><a href="#cb135-2" aria-hidden="true" tabindex="-1"></a><span class="fu">sum</span>(healthy)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 44</code></pre>
</div>
<div class="sourceCode cell-code" id="cb137"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb137-1"><a href="#cb137-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(healthy)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.3098592</code></pre>
</div>
</div>
</section>
<section id="converting-between-different-types-of-objects" class="level1">
<h1>Converting between different types of objects</h1>
<p>You can use the <code>as()</code> family of functions.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb139"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb139-1"><a href="#cb139-1" aria-hidden="true" tabindex="-1"></a>ints <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">10</span></span>
<span id="cb139-2"><a href="#cb139-2" aria-hidden="true" tabindex="-1"></a><span class="fu">as.character</span>(ints)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "1"  "2"  "3"  "4"  "5"  "6"  "7"  "8"  "9"  "10"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb141"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb141-1"><a href="#cb141-1" aria-hidden="true" tabindex="-1"></a><span class="fu">as.numeric</span>(<span class="fu">c</span>(<span class="st">'3.7'</span>, <span class="st">'4.8'</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 3.7 4.8</code></pre>
</div>
</div>
<p>Be careful: R tries to be helpful and convert between types/classes when it thinks it’s a good idea. Sometimes it is overly optimistic.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb143"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb143-1"><a href="#cb143-1" aria-hidden="true" tabindex="-1"></a>indices <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fl">1.7</span>, <span class="fl">2.3</span>)</span>
<span id="cb143-2"><a href="#cb143-2" aria-hidden="true" tabindex="-1"></a>ints[indices]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1 2</code></pre>
</div>
<div class="sourceCode cell-code" id="cb145"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb145-1"><a href="#cb145-1" aria-hidden="true" tabindex="-1"></a>ints[<span class="fl">0.999999999</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>integer(0)</code></pre>
</div>
</div>
</section>
<section id="factors" class="level1">
<h1>Factors</h1>
<p>A factor is a special data type in R used for categorical data. In some cases it works like magic and in others it is frustrating.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb147"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb147-1"><a href="#cb147-1" aria-hidden="true" tabindex="-1"></a><span class="do">## let's read the Gapminder data from a file with a special argument:</span></span>
<span id="cb147-2"><a href="#cb147-2" aria-hidden="true" tabindex="-1"></a>gapminder <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="fu">file.path</span>(<span class="st">'..'</span>, <span class="st">'data'</span>, <span class="st">'gapminder-FiveYearData.csv'</span>),</span>
<span id="cb147-3"><a href="#cb147-3" aria-hidden="true" tabindex="-1"></a>          <span class="at">stringsAsFactors =</span> <span class="cn">TRUE</span>) </span>
<span id="cb147-4"><a href="#cb147-4" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(gapminder<span class="sc">$</span>continent)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "factor"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb149"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb149-1"><a href="#cb149-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(gapminder<span class="sc">$</span>continent) <span class="co"># What order are the factors in?</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] Asia Asia Asia Asia Asia Asia
Levels: Africa Americas Asia Europe Oceania</code></pre>
</div>
<div class="sourceCode cell-code" id="cb151"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb151-1"><a href="#cb151-1" aria-hidden="true" tabindex="-1"></a><span class="fu">levels</span>(gapminder[[<span class="st">"continent"</span>]])  <span class="co"># note alternate way to get the variable</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Africa"   "Americas" "Asia"     "Europe"   "Oceania" </code></pre>
</div>
<div class="sourceCode cell-code" id="cb153"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb153-1"><a href="#cb153-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(gapminder<span class="sc">$</span>continent)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  Africa Americas     Asia   Europe  Oceania 
     624      300      396      360       24 </code></pre>
</div>
</div>
</section>
<section id="strings" class="level1">
<h1>Strings</h1>
<p>R has <a href="http://computing.stat.berkeley.edu/tutorial-string-processing">lots of functionality for text/string manipulation</a>. Usually these are stored as vectors of strings, each string of arbitrary length.</p>
<p>There is some basic string processing syntax here, but most users use the <code>stringr</code> package for a nicer user interface.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb155"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb155-1"><a href="#cb155-1" aria-hidden="true" tabindex="-1"></a>chars <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">'hi'</span>, <span class="st">'hallo'</span>, <span class="st">"mother's"</span>, <span class="st">'father</span><span class="sc">\'</span><span class="st">s'</span>, <span class="st">"He said, </span><span class="sc">\"</span><span class="st">hi</span><span class="sc">\"</span><span class="st">"</span> )</span>
<span id="cb155-2"><a href="#cb155-2" aria-hidden="true" tabindex="-1"></a><span class="fu">length</span>(chars)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 5</code></pre>
</div>
<div class="sourceCode cell-code" id="cb157"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb157-1"><a href="#cb157-1" aria-hidden="true" tabindex="-1"></a><span class="fu">nchar</span>(chars)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1]  2  5  8  8 13</code></pre>
</div>
<div class="sourceCode cell-code" id="cb159"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb159-1"><a href="#cb159-1" aria-hidden="true" tabindex="-1"></a><span class="fu">paste</span>(<span class="st">"bill"</span>, <span class="st">"clinton"</span>, <span class="at">sep =</span> <span class="st">" "</span>)  <span class="co"># paste together a set of strings</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "bill clinton"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb161"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb161-1"><a href="#cb161-1" aria-hidden="true" tabindex="-1"></a><span class="fu">paste</span>(chars, <span class="at">collapse =</span> <span class="st">' '</span>)  <span class="co"># paste together things from a vector</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "hi hallo mother's father's He said, \"hi\""</code></pre>
</div>
<div class="sourceCode cell-code" id="cb163"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb163-1"><a href="#cb163-1" aria-hidden="true" tabindex="-1"></a><span class="fu">strsplit</span>(<span class="st">"This is the R bootcamp"</span>, <span class="at">split =</span> <span class="st">" "</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[[1]]
[1] "This"     "is"       "the"      "R"        "bootcamp"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb165"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb165-1"><a href="#cb165-1" aria-hidden="true" tabindex="-1"></a>countries <span class="ot">&lt;-</span> <span class="fu">as.character</span>(gapminder2007<span class="sc">$</span>country)</span>
<span id="cb165-2"><a href="#cb165-2" aria-hidden="true" tabindex="-1"></a><span class="fu">substring</span>(countries, <span class="dv">1</span>, <span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  [1] "Afg" "Alb" "Alg" "Ang" "Arg" "Aus" "Aus" "Bah" "Ban" "Bel" "Ben" "Bol"
 [13] "Bos" "Bot" "Bra" "Bul" "Bur" "Bur" "Cam" "Cam" "Can" "Cen" "Cha" "Chi"
 [25] "Chi" "Col" "Com" "Con" "Con" "Cos" "Cot" "Cro" "Cub" "Cze" "Den" "Dji"
 [37] "Dom" "Ecu" "Egy" "El " "Equ" "Eri" "Eth" "Fin" "Fra" "Gab" "Gam" "Ger"
 [49] "Gha" "Gre" "Gua" "Gui" "Gui" "Hai" "Hon" "Hon" "Hun" "Ice" "Ind" "Ind"
 [61] "Ira" "Ira" "Ire" "Isr" "Ita" "Jam" "Jap" "Jor" "Ken" "Kor" "Kor" "Kuw"
 [73] "Leb" "Les" "Lib" "Lib" "Mad" "Mal" "Mal" "Mal" "Mau" "Mau" "Mex" "Mon"
 [85] "Mon" "Mor" "Moz" "Mya" "Nam" "Nep" "Net" "New" "Nic" "Nig" "Nig" "Nor"
 [97] "Oma" "Pak" "Pan" "Par" "Per" "Phi" "Pol" "Por" "Pue" "Reu" "Rom" "Rwa"
[109] "Sao" "Sau" "Sen" "Ser" "Sie" "Sin" "Slo" "Slo" "Som" "Sou" "Spa" "Sri"
[121] "Sud" "Swa" "Swe" "Swi" "Syr" "Tai" "Tan" "Tha" "Tog" "Tri" "Tun" "Tur"
[133] "Uga" "Uni" "Uni" "Uru" "Ven" "Vie" "Wes" "Yem" "Zam" "Zim"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb167"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb167-1"><a href="#cb167-1" aria-hidden="true" tabindex="-1"></a>tmp <span class="ot">&lt;-</span> countries</span>
<span id="cb167-2"><a href="#cb167-2" aria-hidden="true" tabindex="-1"></a><span class="fu">substring</span>(tmp, <span class="dv">5</span>, <span class="dv">10</span>) <span class="ot">&lt;-</span> <span class="st">"______"</span></span>
<span id="cb167-3"><a href="#cb167-3" aria-hidden="true" tabindex="-1"></a>tmp[<span class="dv">1</span><span class="sc">:</span><span class="dv">20</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "Afgh______n"            "Alba___"                "Alge___"               
 [4] "Ango__"                 "Arge_____"              "Aust_____"             
 [7] "Aust___"                "Bahr___"                "Bang______"            
[10] "Belg___"                "Beni_"                  "Boli___"               
[13] "Bosn______ Herzegovina" "Bots____"               "Braz__"                
[16] "Bulg____"               "Burk______so"           "Buru___"               
[19] "Camb____"               "Came____"              </code></pre>
</div>
</div>
<p>We can search for patterns in character vectors and replace patterns (both vectorized!)</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb169"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb169-1"><a href="#cb169-1" aria-hidden="true" tabindex="-1"></a>indexes <span class="ot">&lt;-</span> <span class="fu">grep</span>(<span class="st">"Korea"</span>, countries)</span>
<span id="cb169-2"><a href="#cb169-2" aria-hidden="true" tabindex="-1"></a>indexes</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 70 71</code></pre>
</div>
<div class="sourceCode cell-code" id="cb171"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb171-1"><a href="#cb171-1" aria-hidden="true" tabindex="-1"></a>countries[indexes]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Korea, Dem. Rep." "Korea, Rep."     </code></pre>
</div>
<div class="sourceCode cell-code" id="cb173"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb173-1"><a href="#cb173-1" aria-hidden="true" tabindex="-1"></a>countries2 <span class="ot">&lt;-</span> <span class="fu">gsub</span>(<span class="st">"Korea, Dem. Rep."</span>, <span class="st">"North Korea"</span>, countries)</span>
<span id="cb173-2"><a href="#cb173-2" aria-hidden="true" tabindex="-1"></a>countries2[indexes]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "North Korea" "Korea, Rep."</code></pre>
</div>
</div>
<p>One can easily use regular expressions with all of R’s string processing tools.</p>
</section>
<section id="subsetting" class="level1">
<h1>Subsetting</h1>
<p>There are many ways to select subsets in R, as we’ve seen already for vectors. The syntax below is useful for vectors, matrices, data frames, arrays and lists.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb175"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb175-1"><a href="#cb175-1" aria-hidden="true" tabindex="-1"></a>vec <span class="ot">&lt;-</span> gapminder2007<span class="sc">$</span>lifeExp</span>
<span id="cb175-2"><a href="#cb175-2" aria-hidden="true" tabindex="-1"></a>mat <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">20</span>, <span class="dv">4</span>, <span class="dv">5</span>)</span>
<span id="cb175-3"><a href="#cb175-3" aria-hidden="true" tabindex="-1"></a><span class="fu">rownames</span>(mat) <span class="ot">&lt;-</span> letters[<span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>]</span>
<span id="cb175-4"><a href="#cb175-4" aria-hidden="true" tabindex="-1"></a>mat</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  [,1] [,2] [,3] [,4] [,5]
a    1    5    9   13   17
b    2    6   10   14   18
c    3    7   11   15   19
d    4    8   12   16   20</code></pre>
</div>
</div>
<section id="by-direct-indexing" class="level2">
<h2 class="anchored" data-anchor-id="by-direct-indexing">1) by direct indexing</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb177"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb177-1"><a href="#cb177-1" aria-hidden="true" tabindex="-1"></a>vec[<span class="fu">c</span>(<span class="dv">3</span>, <span class="dv">5</span>, <span class="dv">12</span><span class="sc">:</span><span class="dv">14</span>)]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 72.301 75.320 65.554 74.852 50.728</code></pre>
</div>
<div class="sourceCode cell-code" id="cb179"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb179-1"><a href="#cb179-1" aria-hidden="true" tabindex="-1"></a>vec[<span class="sc">-</span><span class="fu">c</span>(<span class="dv">3</span>,<span class="dv">5</span>)]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  [1] 43.828 76.423 42.731 81.235 79.829 75.635 64.062 79.441 56.728 65.554
 [11] 74.852 50.728 72.390 73.005 52.295 49.580 59.723 50.430 80.653 44.741
 [21] 50.651 78.553 72.961 72.889 65.152 46.462 55.322 78.782 48.328 75.748
 [31] 78.273 76.486 78.332 54.791 72.235 74.994 71.338 71.878 51.579 58.040
 [41] 52.947 79.313 80.657 56.735 59.448 79.406 60.022 79.483 70.259 56.007
 [51] 46.388 60.916 70.198 82.208 73.338 81.757 64.698 70.650 70.964 59.545
 [61] 78.885 80.745 80.546 72.567 82.603 72.535 54.110 67.297 78.623 77.588
 [71] 71.993 42.592 45.678 73.952 59.443 48.303 74.241 54.467 64.164 72.801
 [81] 76.195 66.803 74.543 71.164 42.082 62.069 52.906 63.785 79.762 80.204
 [91] 72.899 56.867 46.859 80.196 75.640 65.483 75.537 71.752 71.421 71.688
[101] 75.563 78.098 78.746 76.442 72.476 46.242 65.528 72.777 63.062 74.002
[111] 42.568 79.972 74.663 77.926 48.159 49.339 80.941 72.396 58.556 39.613
[121] 80.884 81.701 74.143 78.400 52.517 70.616 58.420 69.819 73.923 71.777
[131] 51.542 79.425 78.242 76.384 73.747 74.249 73.422 62.698 42.384 43.487</code></pre>
</div>
<div class="sourceCode cell-code" id="cb181"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb181-1"><a href="#cb181-1" aria-hidden="true" tabindex="-1"></a>gapminder[<span class="fu">c</span>(<span class="dv">2</span>,<span class="dv">4</span>), <span class="dv">5</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 30.332 34.020</code></pre>
</div>
<div class="sourceCode cell-code" id="cb183"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb183-1"><a href="#cb183-1" aria-hidden="true" tabindex="-1"></a>gapminder[<span class="fu">c</span>(<span class="dv">2</span>,<span class="dv">4</span>), <span class="st">'lifeExp'</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 30.332 34.020</code></pre>
</div>
</div>
</section>
<section id="by-a-vector-of-logicals" class="level2">
<h2 class="anchored" data-anchor-id="by-a-vector-of-logicals">2) by a vector of logicals</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb185"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb185-1"><a href="#cb185-1" aria-hidden="true" tabindex="-1"></a>wealthy <span class="ot">&lt;-</span> gapminder<span class="sc">$</span>gdpPercap <span class="sc">&gt;</span> <span class="dv">50000</span></span>
<span id="cb185-2"><a href="#cb185-2" aria-hidden="true" tabindex="-1"></a>gapminder<span class="sc">$</span>gdpPercap[wealthy]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 108382.35 113523.13  95458.11  80894.88 109347.87  59265.48</code></pre>
</div>
<div class="sourceCode cell-code" id="cb187"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb187-1"><a href="#cb187-1" aria-hidden="true" tabindex="-1"></a>gapminder[wealthy, ]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>    country year     pop continent lifeExp gdpPercap
853  Kuwait 1952  160000      Asia  55.565 108382.35
854  Kuwait 1957  212846      Asia  58.033 113523.13
855  Kuwait 1962  358266      Asia  60.470  95458.11
856  Kuwait 1967  575003      Asia  64.624  80894.88
857  Kuwait 1972  841934      Asia  67.712 109347.87
858  Kuwait 1977 1140357      Asia  69.343  59265.48</code></pre>
</div>
</div>
<p>What happened in the last subsetting operation?</p>
</section>
<section id="by-a-vector-of-names" class="level2">
<h2 class="anchored" data-anchor-id="by-a-vector-of-names">3) by a vector of names</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb189"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb189-1"><a href="#cb189-1" aria-hidden="true" tabindex="-1"></a>mat[<span class="fu">c</span>(<span class="st">'a'</span>, <span class="st">'d'</span>, <span class="st">'a'</span>), ]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  [,1] [,2] [,3] [,4] [,5]
a    1    5    9   13   17
d    4    8   12   16   20
a    1    5    9   13   17</code></pre>
</div>
</div>
</section>
<section id="using-dplyr-tools-such-as-filter-and-select-more-in-module-4" class="level2">
<h2 class="anchored" data-anchor-id="using-dplyr-tools-such-as-filter-and-select-more-in-module-4">4) using <em>dplyr</em> tools such as <em>filter()</em> and <em>select()</em> – more in Module 4</h2>
</section>
</section>
<section id="assignment-into-subsets" class="level1">
<h1>Assignment into subsets</h1>
<p>We can assign into subsets by using similar syntax, as we saw with vectors.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb191"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb191-1"><a href="#cb191-1" aria-hidden="true" tabindex="-1"></a>vec <span class="ot">&lt;-</span> <span class="fu">rnorm</span>(<span class="dv">20</span>)</span>
<span id="cb191-2"><a href="#cb191-2" aria-hidden="true" tabindex="-1"></a>vec[<span class="fu">c</span>(<span class="dv">3</span>, <span class="dv">5</span>, <span class="dv">12</span><span class="sc">:</span><span class="dv">14</span>)] <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">5</span></span>
<span id="cb191-3"><a href="#cb191-3" aria-hidden="true" tabindex="-1"></a>vec</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] -0.10348598 -0.19711812  1.00000000  0.86175555  2.00000000  0.61561296
 [7] -1.17994918  1.77088569 -0.57195198  0.05821516 -0.04656239  3.00000000
[13]  4.00000000  5.00000000 -1.68996897  0.28360294  1.40876049 -0.36984051
[19] -0.86946461  1.15434656</code></pre>
</div>
<div class="sourceCode cell-code" id="cb193"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb193-1"><a href="#cb193-1" aria-hidden="true" tabindex="-1"></a>mat <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="fu">rnorm</span>(<span class="dv">6</span><span class="sc">*</span><span class="dv">5</span>), <span class="at">nrow =</span> <span class="dv">6</span>)</span>
<span id="cb193-2"><a href="#cb193-2" aria-hidden="true" tabindex="-1"></a>mat[<span class="dv">2</span>, <span class="dv">3</span><span class="sc">:</span><span class="dv">5</span>] <span class="ot">&lt;-</span> <span class="fu">rnorm</span>(<span class="dv">3</span>)</span>
<span id="cb193-3"><a href="#cb193-3" aria-hidden="true" tabindex="-1"></a>mat</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>           [,1]       [,2]       [,3]        [,4]        [,5]
[1,] -0.9302555 -0.3971309 -0.6960548  1.11741292  1.28173550
[2,]  0.4893728  1.0695032 -1.0248511 -2.51613986  0.09530221
[3,] -0.2176812 -1.1679594  0.3081765  2.26738594 -0.55801164
[4,] -0.4849468  0.9352054  1.5406532 -1.38884669  0.71746060
[5,]  0.7781573  0.3631866  0.6731727  0.06559643  1.93228540
[6,] -0.8409723  0.5637175  0.2130024  1.38104882 -0.87035856</code></pre>
</div>
<div class="sourceCode cell-code" id="cb195"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb195-1"><a href="#cb195-1" aria-hidden="true" tabindex="-1"></a>mat[mat[,<span class="dv">1</span>] <span class="sc">&gt;</span> <span class="dv">0</span>, ] <span class="ot">&lt;-</span> <span class="sc">-</span><span class="cn">Inf</span></span>
<span id="cb195-2"><a href="#cb195-2" aria-hidden="true" tabindex="-1"></a>mat</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>           [,1]       [,2]       [,3]      [,4]       [,5]
[1,] -0.9302555 -0.3971309 -0.6960548  1.117413  1.2817355
[2,]       -Inf       -Inf       -Inf      -Inf       -Inf
[3,] -0.2176812 -1.1679594  0.3081765  2.267386 -0.5580116
[4,] -0.4849468  0.9352054  1.5406532 -1.388847  0.7174606
[5,]       -Inf       -Inf       -Inf      -Inf       -Inf
[6,] -0.8409723  0.5637175  0.2130024  1.381049 -0.8703586</code></pre>
</div>
</div>
<div class="callout callout-style-default callout-tip callout-titled" title="Question">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Question
</div>
</div>
<div class="callout-body-container callout-body">
<p>Suppose I want to select the 3rd elements from the 2nd and 4th columns of a matrix or dataframe. Which syntax will work?</p>
<p>Here’s a test matrix:</p>
<pre><code>mat &lt;- matrix(1:16, nrow = 4, ncol = 4)</code></pre>
<ol type="1">
<li>mat[3, (2, 4)]</li>
<li>mat[c(FALSE, FALSE, TRUE, FALSE), c(FALSE, TRUE, FALSE, TRUE)]</li>
<li>mat[c(FALSE, FALSE, TRUE, FALSE), c(2, 4)]</li>
<li>mat[3, c(2, 4)]</li>
<li>mat(3, c(2, 4))</li>
<li>mat[3, ][c(2, 4)]</li>
<li>mat[ , c(2, 4)][3, ]</li>
<li>mat[ , c(2, 4)][3]</li>
<li>mat[c(2, 4)][3, ]</li>
</ol>
</div>
</div>
</section>
<section id="breakout" class="level1">
<h1>Breakout</h1>
<section id="basics" class="level3">
<h3 class="anchored" data-anchor-id="basics">Basics</h3>
<ol type="1">
<li><p>Extract the 5th row from the gapminder dataset.</p></li>
<li><p>Extract the last row from the gapminder dataset.</p></li>
<li><p>Create a boolean (TRUE/FALSE) vector indicating whether total country GDP is greater than 1 trillion dollars. When entering 1 trillion, use R’s scientific notation.</p></li>
<li><p>Count the number of gdpPercap values greater than 50000 in the gapminder dataset.</p></li>
<li><p>Set all of the gdpPercap values greater than 50000 to NA. You should probably first copy the <code>gapminder</code> object and work on the copy so that the dataset is unchanged, so that you preserve the original data to use later.</p></li>
<li><p>Consider the first row of the gapminder dataset, which has Afghanistan for 1952. How do I create a string “Afghanistan-1952” using <code>gap$country[1]</code> and <code>gap$year[1]</code>?</p></li>
</ol>
</section>
<section id="using-the-ideas" class="level3">
<h3 class="anchored" data-anchor-id="using-the-ideas">Using the ideas</h3>
<ol start="7" type="1">
<li><p>Create a character string using <code>paste()</code> that tells the user how many rows there are in the data frame - do this programmatically such that it would work for any data frame regardless of how many rows it has. The result should look like this: “There are 1704 rows in the dataset”</p></li>
<li><p>If you didn’t do it this way already in problem #2, extract the last row from the gapminder dataset without typing the number ‘1704’.</p></li>
<li><p>Create a boolean vector indicating if the life expectancy is greater than 75 and the gdpPercap is less than 10000 and calculate the proportion of all the records these represent.</p></li>
<li><p>Use that vector to create a new data frame that is a subset of the original data frame.</p></li>
<li><p>Consider the attributes of the gapminder dataset. What kind of R object is the set of attributes?</p></li>
</ol>
</section>
<section id="advanced" class="level3">
<h3 class="anchored" data-anchor-id="advanced">Advanced</h3>
<ol start="12" type="1">
<li><p>Consider the following regression model. Figure out how to extract the <span class="math inline">\(R^2\)</span> and residual standard error and store in new R variables.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb198"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb198-1"><a href="#cb198-1" aria-hidden="true" tabindex="-1"></a>mod <span class="ot">&lt;-</span> <span class="fu">lm</span>(lifeExp <span class="sc">~</span> <span class="fu">log</span>(gdpPercap), <span class="at">data =</span> gapminder)</span>
<span id="cb198-2"><a href="#cb198-2" aria-hidden="true" tabindex="-1"></a>summ <span class="ot">&lt;-</span> <span class="fu">summary</span>(mod)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></li>
<li><p>Create row names for the data frame based on concatenating the Continent, Country, and Year fields.</p></li>
</ol>


<!-- -->

</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
  const viewSource = window.document.getElementById('quarto-view-source') ||
                     window.document.getElementById('quarto-code-tools-source');
  if (viewSource) {
    const sourceUrl = viewSource.getAttribute("data-quarto-source-url");
    viewSource.addEventListener("click", function(e) {
      if (sourceUrl) {
        // rstudio viewer pane
        if (/\bcapabilities=\b/.test(window.location)) {
          window.open(sourceUrl);
        } else {
          window.location.href = sourceUrl;
        }
      } else {
        const modal = new bootstrap.Modal(document.getElementById('quarto-embedded-source-code-modal'));
        modal.show();
      }
      return false;
    });
  }
  function toggleCodeHandler(show) {
    return function(e) {
      const detailsSrc = window.document.querySelectorAll(".cell > details > .sourceCode");
      for (let i=0; i<detailsSrc.length; i++) {
        const details = detailsSrc[i].parentElement;
        if (show) {
          details.open = true;
        } else {
          details.removeAttribute("open");
        }
      }
      const cellCodeDivs = window.document.querySelectorAll(".cell > .sourceCode");
      const fromCls = show ? "hidden" : "unhidden";
      const toCls = show ? "unhidden" : "hidden";
      for (let i=0; i<cellCodeDivs.length; i++) {
        const codeDiv = cellCodeDivs[i];
        if (codeDiv.classList.contains(fromCls)) {
          codeDiv.classList.remove(fromCls);
          codeDiv.classList.add(toCls);
        } 
      }
      return false;
    }
  }
  const hideAllCode = window.document.getElementById("quarto-hide-all-code");
  if (hideAllCode) {
    hideAllCode.addEventListener("click", toggleCodeHandler(false));
  }
  const showAllCode = window.document.getElementById("quarto-show-all-code");
  if (showAllCode) {
    showAllCode.addEventListener("click", toggleCodeHandler(true));
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/paciorek\.github\.io\/r-voleon-2025");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script><div class="modal fade" id="quarto-embedded-source-code-modal" tabindex="-1" aria-labelledby="quarto-embedded-source-code-modal-label" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable"><div class="modal-content"><div class="modal-header"><h5 class="modal-title" id="quarto-embedded-source-code-modal-label">Source Code</h5><button class="btn-close" data-bs-dismiss="modal"></button></div><div class="modal-body"><div class="">
<div class="sourceCode" id="cb199" data-shortcodes="false"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb199-1"><a href="#cb199-1" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb199-2"><a href="#cb199-2" aria-hidden="true" tabindex="-1"></a><span class="an">title:</span><span class="co"> "Data Structures and Manipulations"</span></span>
<span id="cb199-3"><a href="#cb199-3" aria-hidden="true" tabindex="-1"></a><span class="an">format:</span></span>
<span id="cb199-4"><a href="#cb199-4" aria-hidden="true" tabindex="-1"></a><span class="co">  html:</span></span>
<span id="cb199-5"><a href="#cb199-5" aria-hidden="true" tabindex="-1"></a><span class="co">    theme: cosmo</span></span>
<span id="cb199-6"><a href="#cb199-6" aria-hidden="true" tabindex="-1"></a><span class="co">    css: ../assets/styles.css</span></span>
<span id="cb199-7"><a href="#cb199-7" aria-hidden="true" tabindex="-1"></a><span class="co">    toc: true</span></span>
<span id="cb199-8"><a href="#cb199-8" aria-hidden="true" tabindex="-1"></a><span class="co">    code-copy: true</span></span>
<span id="cb199-9"><a href="#cb199-9" aria-hidden="true" tabindex="-1"></a><span class="co">    code-block-bg: true</span></span>
<span id="cb199-10"><a href="#cb199-10" aria-hidden="true" tabindex="-1"></a><span class="co">    code-block-border-left: "#31BAE9"</span></span>
<span id="cb199-11"><a href="#cb199-11" aria-hidden="true" tabindex="-1"></a><span class="co">    code-tools: true</span></span>
<span id="cb199-12"><a href="#cb199-12" aria-hidden="true" tabindex="-1"></a><span class="an">execute:</span></span>
<span id="cb199-13"><a href="#cb199-13" aria-hidden="true" tabindex="-1"></a><span class="co">  freeze: auto</span></span>
<span id="cb199-14"><a href="#cb199-14" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb199-15"><a href="#cb199-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb199-16"><a href="#cb199-16" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, chunksetup}</span></span>
<span id="cb199-17"><a href="#cb199-17" aria-hidden="true" tabindex="-1"></a><span class="in">#| include: false</span></span>
<span id="cb199-18"><a href="#cb199-18" aria-hidden="true" tabindex="-1"></a><span class="in">#| cache: true</span></span>
<span id="cb199-19"><a href="#cb199-19" aria-hidden="true" tabindex="-1"></a><span class="in"># include any code here you don't want to show up in the document,</span></span>
<span id="cb199-20"><a href="#cb199-20" aria-hidden="true" tabindex="-1"></a><span class="in"># e.g. package and dataset loading</span></span>
<span id="cb199-21"><a href="#cb199-21" aria-hidden="true" tabindex="-1"></a><span class="in">rm(list=ls())</span></span>
<span id="cb199-22"><a href="#cb199-22" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb199-23"><a href="#cb199-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb199-24"><a href="#cb199-24" aria-hidden="true" tabindex="-1"></a><span class="fu"># Suggestions on how to get the most out of the bootcamp</span></span>
<span id="cb199-25"><a href="#cb199-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb199-26"><a href="#cb199-26" aria-hidden="true" tabindex="-1"></a>I encourage you to:</span>
<span id="cb199-27"><a href="#cb199-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb199-28"><a href="#cb199-28" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Try out the code as we walk through it.</span>
<span id="cb199-29"><a href="#cb199-29" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Keep your eyes open! -- We'll illustrate a lot of syntax and concepts by example.</span>
<span id="cb199-30"><a href="#cb199-30" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Try to guess what the syntax means in cases we haven't yet seen that syntax.</span>
<span id="cb199-31"><a href="#cb199-31" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Play with it and try variations and try to break it and see what happens.</span>
<span id="cb199-32"><a href="#cb199-32" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Ask questions and comment if something interesting happens as you experiment.</span>
<span id="cb199-33"><a href="#cb199-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb199-34"><a href="#cb199-34" aria-hidden="true" tabindex="-1"></a>This is a bootcamp. So there may be some pain involved! If you find yourself not following everything, that's ok. You may miss some details, but try to follow the basics and the big picture.</span>
<span id="cb199-35"><a href="#cb199-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb199-36"><a href="#cb199-36" aria-hidden="true" tabindex="-1"></a>What about using a ChatBot?</span>
<span id="cb199-37"><a href="#cb199-37" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb199-38"><a href="#cb199-38" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Great for getting initial syntax (so we'll focus on concepts)</span>
<span id="cb199-39"><a href="#cb199-39" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Great for translating between languages</span>
<span id="cb199-40"><a href="#cb199-40" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Can hallucinate syntax</span>
<span id="cb199-41"><a href="#cb199-41" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>How much and what do we need to learn ourselves?</span>
<span id="cb199-42"><a href="#cb199-42" aria-hidden="true" tabindex="-1"></a><span class="ss">  - </span>For now, knowledgeable humans still need to review, revise, debug. Right?</span>
<span id="cb199-43"><a href="#cb199-43" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb199-44"><a href="#cb199-44" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb199-45"><a href="#cb199-45" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb199-46"><a href="#cb199-46" aria-hidden="true" tabindex="-1"></a><span class="fu"># What is R?</span></span>
<span id="cb199-47"><a href="#cb199-47" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb199-48"><a href="#cb199-48" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>R is an Open Source (and freely available) environment for statistical computing and graphics</span>
<span id="cb199-49"><a href="#cb199-49" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>It is a full-featured programming language, in particular a scripting language (with similarities to MATLAB, Julia, and Python)</span>
<span id="cb199-50"><a href="#cb199-50" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>It can be run interactively or as a batch/background job</span>
<span id="cb199-51"><a href="#cb199-51" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>R has a variety of built-in as well as community-provided packages that extend its functionality with code and data; see <span class="co">[</span><span class="ot">CRAN</span><span class="co">](https://cran.r-project.org/web/packages/index.html)</span> for the thousands of add-on packages</span>
<span id="cb199-52"><a href="#cb199-52" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>It is freely-available and modifiable </span>
<span id="cb199-53"><a href="#cb199-53" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Available for Windows, Mac OS X, and <span class="co">[</span><span class="ot">Linux</span><span class="co">](http://dilbert.com/strips/comic/1995-06-24/)</span></span>
<span id="cb199-54"><a href="#cb199-54" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb199-55"><a href="#cb199-55" aria-hidden="true" tabindex="-1"></a><span class="fu"># Why R?</span></span>
<span id="cb199-56"><a href="#cb199-56" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb199-57"><a href="#cb199-57" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>R is widely used (statisticians, data scientists, scientists, social scientists) and has the widest statistical functionality of any software, plus extensive machine learning functionality.</span>
<span id="cb199-58"><a href="#cb199-58" aria-hidden="true" tabindex="-1"></a><span class="ss">  - </span>Extensive, easy-to-use functionality for working with tabular data and for plotting (e.g., the 'tidyverse').</span>
<span id="cb199-59"><a href="#cb199-59" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Users add functionality via packages all the time.</span>
<span id="cb199-60"><a href="#cb199-60" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>R is free and available on all major platforms.</span>
<span id="cb199-61"><a href="#cb199-61" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>As a scripting language, R is very powerful, flexible, easy to use, automates tasks, and allows for reproducibility.</span>
<span id="cb199-62"><a href="#cb199-62" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>As a language, R can do essentially anything</span>
<span id="cb199-63"><a href="#cb199-63" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Wide usage helps to improve quality and reduce bugs</span>
<span id="cb199-64"><a href="#cb199-64" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>R can interact with other software, databases, the operating system, the web, etc.</span>
<span id="cb199-65"><a href="#cb199-65" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>R is built on C and can call user-written and external C/C++ code and packages (in particular, see the <span class="in">`Rcpp`</span> R package)</span>
<span id="cb199-66"><a href="#cb199-66" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Good support for basic parallelization, in particular using the <span class="in">`future`</span> package</span>
<span id="cb199-67"><a href="#cb199-67" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb199-68"><a href="#cb199-68" aria-hidden="true" tabindex="-1"></a><span class="fu"># Why Not R?</span></span>
<span id="cb199-69"><a href="#cb199-69" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb199-70"><a href="#cb199-70" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Other software is better than R at various tasks:</span>
<span id="cb199-71"><a href="#cb199-71" aria-hidden="true" tabindex="-1"></a><span class="ss">  - </span>Machine learning (particularly deep learning): Python (particularly PyTorch)</span>
<span id="cb199-72"><a href="#cb199-72" aria-hidden="true" tabindex="-1"></a><span class="ss">  - </span>Automatic differentiation: Python (particularly JAX, PyTorch), Julia</span>
<span id="cb199-73"><a href="#cb199-73" aria-hidden="true" tabindex="-1"></a><span class="ss">  - </span>Interacting with GPUs: Python (particularly JAX, PyTorch), Julia</span>
<span id="cb199-74"><a href="#cb199-74" aria-hidden="true" tabindex="-1"></a><span class="ss">  - </span>Parallelization: Julia has more integrated, broader CPU-based parallelization support</span>
<span id="cb199-75"><a href="#cb199-75" aria-hidden="true" tabindex="-1"></a><span class="ss">  - </span>General "glue" language for interacting with the web and other tools/applications: <span class="co">[</span><span class="ot">Python</span><span class="co">](http://imgs.xkcd.com/comics/python.png)</span></span>
<span id="cb199-76"><a href="#cb199-76" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>R can be much slower than compiled languages or Julia (but is often quite fast with good coding practices!)</span>
<span id="cb199-77"><a href="#cb199-77" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>R's packages are only as good as the person who wrote them; no explicit quality control</span>
<span id="cb199-78"><a href="#cb199-78" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>R is a sprawling and unstandardized ecosystem</span>
<span id="cb199-79"><a href="#cb199-79" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb199-80"><a href="#cb199-80" aria-hidden="true" tabindex="-1"></a><span class="fu"># Modes of using R</span></span>
<span id="cb199-81"><a href="#cb199-81" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb199-82"><a href="#cb199-82" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Using the RStudio GUI, an *integrated development environment*</span>
<span id="cb199-83"><a href="#cb199-83" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>With VS Code, including a debugger</span>
<span id="cb199-84"><a href="#cb199-84" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>In a Jupyter notebook, including a debugger</span>
<span id="cb199-85"><a href="#cb199-85" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>From the command line in a Linux/Mac terminal window</span>
<span id="cb199-86"><a href="#cb199-86" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Running an R script in the background on a Linux/Mac machine (perhaps Windows?)</span>
<span id="cb199-87"><a href="#cb199-87" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb199-88"><a href="#cb199-88" aria-hidden="true" tabindex="-1"></a><span class="fu"># RStudio and R Markdown</span></span>
<span id="cb199-89"><a href="#cb199-89" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb199-90"><a href="#cb199-90" aria-hidden="true" tabindex="-1"></a>We'll present most of the material from within RStudio, using Quarto Markdown (the successor to R Markdown) documents with embedded R code.</span>
<span id="cb199-91"><a href="#cb199-91" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb199-92"><a href="#cb199-92" aria-hidden="true" tabindex="-1"></a>Quarto Markdown is an extension to the Markdown markup language that makes it easy to write HTML in a simple plain text format.</span>
<span id="cb199-93"><a href="#cb199-93" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb199-94"><a href="#cb199-94" aria-hidden="true" tabindex="-1"></a>This allows us to both run the R code directly as well as compile on-the-fly to an HTML file that can be used for presentation. All files are available on <span class="co">[</span><span class="ot">GitHub</span><span class="co">](https://github.com/paciorek/r-voleon-2025)</span>.</span>
<span id="cb199-95"><a href="#cb199-95" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb199-96"><a href="#cb199-96" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb199-97"><a href="#cb199-97" aria-hidden="true" tabindex="-1"></a><span class="fu"># Starting R and RStudio</span></span>
<span id="cb199-98"><a href="#cb199-98" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb199-99"><a href="#cb199-99" aria-hidden="true" tabindex="-1"></a>The pieces of an RStudio session include:</span>
<span id="cb199-100"><a href="#cb199-100" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb199-101"><a href="#cb199-101" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>The R console</span>
<span id="cb199-102"><a href="#cb199-102" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Scripts containing your code</span>
<span id="cb199-103"><a href="#cb199-103" aria-hidden="true" tabindex="-1"></a><span class="ss">  - </span>The script window also has Notebook capabilities like Jupyter notebooks</span>
<span id="cb199-104"><a href="#cb199-104" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Help files</span>
<span id="cb199-105"><a href="#cb199-105" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Graphics windows</span>
<span id="cb199-106"><a href="#cb199-106" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Workspace containing your objects, which hold data and information</span>
<span id="cb199-107"><a href="#cb199-107" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb199-108"><a href="#cb199-108" aria-hidden="true" tabindex="-1"></a>RStudio provides an integrated development environment in which all of these pieces are in a single application and tightly integrated, with a built-in editor for your code/scripts. </span>
<span id="cb199-109"><a href="#cb199-109" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb199-110"><a href="#cb199-110" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb199-111"><a href="#cb199-111" aria-hidden="true" tabindex="-1"></a><span class="fu"># Example dataset</span></span>
<span id="cb199-112"><a href="#cb199-112" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb199-113"><a href="#cb199-113" aria-hidden="true" tabindex="-1"></a>Many of the modules will use a common dataset as an example on which to carry out various operations. We'll focus on dataset of demographic/economic information (population, GDP per capita, life expectancy) for many of the countries in the world every five years, provided by the <span class="co">[</span><span class="ot">Gapminder project</span><span class="co">](https://www.gapminder.org)</span>. The data are available by installing and loading the <span class="in">`gapminder`</span> dataset.</span>
<span id="cb199-114"><a href="#cb199-114" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb199-117"><a href="#cb199-117" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb199-118"><a href="#cb199-118" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(gapminder)</span>
<span id="cb199-119"><a href="#cb199-119" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(gapminder)</span>
<span id="cb199-120"><a href="#cb199-120" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb199-121"><a href="#cb199-121" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb199-122"><a href="#cb199-122" aria-hidden="true" tabindex="-1"></a><span class="fu"># Basic R data structures</span></span>
<span id="cb199-123"><a href="#cb199-123" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb199-124"><a href="#cb199-124" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Vectors (of numbers, strings, booleans, etc.)</span>
<span id="cb199-125"><a href="#cb199-125" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Matrices and arrays</span>
<span id="cb199-126"><a href="#cb199-126" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Lists (collections of potentially heterogeneous information)</span>
<span id="cb199-127"><a href="#cb199-127" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Dataframes (for tabular data with heterogeneous column types)</span>
<span id="cb199-128"><a href="#cb199-128" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb199-129"><a href="#cb199-129" aria-hidden="true" tabindex="-1"></a><span class="fu"># Vectors </span></span>
<span id="cb199-130"><a href="#cb199-130" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb199-131"><a href="#cb199-131" aria-hidden="true" tabindex="-1"></a>The most basic form of an R object is a vector. </span>
<span id="cb199-132"><a href="#cb199-132" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb199-133"><a href="#cb199-133" aria-hidden="true" tabindex="-1"></a>We can concatenate values into a vector with <span class="in">`c()`</span> or generate them as a whole:</span>
<span id="cb199-134"><a href="#cb199-134" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb199-137"><a href="#cb199-137" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb199-138"><a href="#cb199-138" aria-hidden="true" tabindex="-1"></a><span class="do">## numeric vector</span></span>
<span id="cb199-139"><a href="#cb199-139" aria-hidden="true" tabindex="-1"></a>nums <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fl">1.1</span>, <span class="dv">3</span>, <span class="sc">-</span><span class="fl">5.7</span>)</span>
<span id="cb199-140"><a href="#cb199-140" aria-hidden="true" tabindex="-1"></a>devs <span class="ot">&lt;-</span> <span class="fu">rnorm</span>(<span class="dv">5</span>)</span>
<span id="cb199-141"><a href="#cb199-141" aria-hidden="true" tabindex="-1"></a>devs</span>
<span id="cb199-142"><a href="#cb199-142" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb199-143"><a href="#cb199-143" aria-hidden="true" tabindex="-1"></a><span class="do">## integer vector</span></span>
<span id="cb199-144"><a href="#cb199-144" aria-hidden="true" tabindex="-1"></a>ints <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>L, <span class="dv">5</span>L, <span class="sc">-</span><span class="dv">3</span>L) <span class="co"># Force storage as integer not real number.</span></span>
<span id="cb199-145"><a href="#cb199-145" aria-hidden="true" tabindex="-1"></a><span class="do">## 'L' is for 'long integer' (historical, from C)</span></span>
<span id="cb199-146"><a href="#cb199-146" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb199-147"><a href="#cb199-147" aria-hidden="true" tabindex="-1"></a><span class="do">## All objects in R belong to a class (more in Unit 3)</span></span>
<span id="cb199-148"><a href="#cb199-148" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(devs)</span>
<span id="cb199-149"><a href="#cb199-149" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(ints)</span>
<span id="cb199-150"><a href="#cb199-150" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb199-151"><a href="#cb199-151" aria-hidden="true" tabindex="-1"></a><span class="do">## Internal representation (in underlying C objects)</span></span>
<span id="cb199-152"><a href="#cb199-152" aria-hidden="true" tabindex="-1"></a><span class="fu">typeof</span>(devs)</span>
<span id="cb199-153"><a href="#cb199-153" aria-hidden="true" tabindex="-1"></a><span class="fu">typeof</span>(ints)</span>
<span id="cb199-154"><a href="#cb199-154" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb199-155"><a href="#cb199-155" aria-hidden="true" tabindex="-1"></a><span class="do">## character vector</span></span>
<span id="cb199-156"><a href="#cb199-156" aria-hidden="true" tabindex="-1"></a>chars <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">'hi'</span>, <span class="st">'hallo'</span>, <span class="st">"mother's"</span>, <span class="st">'father</span><span class="sc">\'</span><span class="st">s'</span>, </span>
<span id="cb199-157"><a href="#cb199-157" aria-hidden="true" tabindex="-1"></a>   <span class="st">"She said, 'hi'"</span>, <span class="st">"He said, </span><span class="sc">\"</span><span class="st">hi</span><span class="sc">\"</span><span class="st">"</span> )</span>
<span id="cb199-158"><a href="#cb199-158" aria-hidden="true" tabindex="-1"></a>chars</span>
<span id="cb199-159"><a href="#cb199-159" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(chars, <span class="at">sep =</span> <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span>
<span id="cb199-160"><a href="#cb199-160" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb199-161"><a href="#cb199-161" aria-hidden="true" tabindex="-1"></a><span class="do">## logical vector</span></span>
<span id="cb199-162"><a href="#cb199-162" aria-hidden="true" tabindex="-1"></a>bools <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="cn">TRUE</span>, <span class="cn">FALSE</span>, <span class="cn">TRUE</span>)</span>
<span id="cb199-163"><a href="#cb199-163" aria-hidden="true" tabindex="-1"></a>bools</span>
<span id="cb199-164"><a href="#cb199-164" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb199-165"><a href="#cb199-165" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb199-166"><a href="#cb199-166" aria-hidden="true" tabindex="-1"></a><span class="fu"># Working with indices and subsets</span></span>
<span id="cb199-167"><a href="#cb199-167" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb199-168"><a href="#cb199-168" aria-hidden="true" tabindex="-1"></a>As seen in Module 0, we can subset (aka "slice") using a variety of approaches. </span>
<span id="cb199-169"><a href="#cb199-169" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb199-172"><a href="#cb199-172" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb199-173"><a href="#cb199-173" aria-hidden="true" tabindex="-1"></a>vals <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">12</span></span>
<span id="cb199-174"><a href="#cb199-174" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb199-175"><a href="#cb199-175" aria-hidden="true" tabindex="-1"></a>vals[<span class="dv">3</span>]</span>
<span id="cb199-176"><a href="#cb199-176" aria-hidden="true" tabindex="-1"></a>vals[<span class="dv">3</span><span class="sc">:</span><span class="dv">5</span>]</span>
<span id="cb199-177"><a href="#cb199-177" aria-hidden="true" tabindex="-1"></a>vals[<span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">6</span>)]</span>
<span id="cb199-178"><a href="#cb199-178" aria-hidden="true" tabindex="-1"></a>vals[<span class="sc">-</span><span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">6</span>)]</span>
<span id="cb199-179"><a href="#cb199-179" aria-hidden="true" tabindex="-1"></a>vals[<span class="fu">c</span>(<span class="fu">rep</span>(<span class="cn">TRUE</span>, <span class="dv">3</span>), <span class="fu">rep</span>(<span class="cn">FALSE</span>, <span class="dv">2</span>), <span class="cn">TRUE</span>, <span class="fu">rep</span>(<span class="cn">FALSE</span>, <span class="dv">6</span>))]</span>
<span id="cb199-180"><a href="#cb199-180" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb199-181"><a href="#cb199-181" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb199-182"><a href="#cb199-182" aria-hidden="true" tabindex="-1"></a>We can substitute values into vectors:</span>
<span id="cb199-183"><a href="#cb199-183" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb199-186"><a href="#cb199-186" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb199-187"><a href="#cb199-187" aria-hidden="true" tabindex="-1"></a>vals[<span class="dv">4</span>] <span class="ot">&lt;-</span> <span class="fl">822.9711</span></span>
<span id="cb199-188"><a href="#cb199-188" aria-hidden="true" tabindex="-1"></a>vals[<span class="dv">3</span><span class="sc">:</span><span class="dv">4</span>] <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fl">7.5</span>, <span class="fl">2.4</span>)</span>
<span id="cb199-189"><a href="#cb199-189" aria-hidden="true" tabindex="-1"></a>vals[<span class="dv">2</span><span class="sc">:</span><span class="dv">4</span>] <span class="ot">&lt;-</span> <span class="dv">0</span>  <span class="co"># Recycling</span></span>
<span id="cb199-190"><a href="#cb199-190" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb199-191"><a href="#cb199-191" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb199-192"><a href="#cb199-192" aria-hidden="true" tabindex="-1"></a>The last substitution uses "recycling" to match the left-hand-side extent (3 elements) with the right-hand-side extent (1 element)</span>
<span id="cb199-193"><a href="#cb199-193" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb199-194"><a href="#cb199-194" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb199-195"><a href="#cb199-195" aria-hidden="true" tabindex="-1"></a><span class="fu"># Lists</span></span>
<span id="cb199-196"><a href="#cb199-196" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb199-197"><a href="#cb199-197" aria-hidden="true" tabindex="-1"></a>Collections of disparate or complicated objects</span>
<span id="cb199-198"><a href="#cb199-198" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb199-201"><a href="#cb199-201" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb199-202"><a href="#cb199-202" aria-hidden="true" tabindex="-1"></a>myList <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="at">stuff =</span> <span class="dv">3</span>, <span class="at">mat =</span> <span class="fu">matrix</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>, <span class="at">nrow =</span> <span class="dv">2</span>), </span>
<span id="cb199-203"><a href="#cb199-203" aria-hidden="true" tabindex="-1"></a>   <span class="at">moreStuff =</span> <span class="fu">c</span>(<span class="st">"china"</span>, <span class="st">"japan"</span>), <span class="fu">list</span>(<span class="dv">5</span>, <span class="st">"bear"</span>))</span>
<span id="cb199-204"><a href="#cb199-204" aria-hidden="true" tabindex="-1"></a>myList</span>
<span id="cb199-205"><a href="#cb199-205" aria-hidden="true" tabindex="-1"></a>myList[[<span class="dv">3</span>]] <span class="co"># result is not (usually) a list (unless you have nested lists)</span></span>
<span id="cb199-206"><a href="#cb199-206" aria-hidden="true" tabindex="-1"></a><span class="fu">identical</span>(myList[[<span class="dv">3</span>]], myList<span class="sc">$</span>moreStuff)</span>
<span id="cb199-207"><a href="#cb199-207" aria-hidden="true" tabindex="-1"></a>myList<span class="sc">$</span>moreStuff[<span class="dv">2</span>]</span>
<span id="cb199-208"><a href="#cb199-208" aria-hidden="true" tabindex="-1"></a>myList[[<span class="dv">4</span>]][[<span class="dv">2</span>]]</span>
<span id="cb199-209"><a href="#cb199-209" aria-hidden="true" tabindex="-1"></a>myList[<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>] <span class="co"># subset of a list is a list</span></span>
<span id="cb199-210"><a href="#cb199-210" aria-hidden="true" tabindex="-1"></a>myList<span class="sc">$</span>newOne <span class="ot">&lt;-</span> <span class="st">'more weird stuff'</span></span>
<span id="cb199-211"><a href="#cb199-211" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(myList)</span>
<span id="cb199-212"><a href="#cb199-212" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb199-213"><a href="#cb199-213" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb199-214"><a href="#cb199-214" aria-hidden="true" tabindex="-1"></a>Lists can be used as vectors of complicated objects. E.g., suppose you have a linear regression for each value of a stratifying variable. You could have a list of regression fits. Each regression fit will itself be a list (with coeffs, residuals, p-values, R^2), so you'll have a list of lists.</span>
<span id="cb199-215"><a href="#cb199-215" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb199-216"><a href="#cb199-216" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb199-217"><a href="#cb199-217" aria-hidden="true" tabindex="-1"></a>::: {.callout-tip title="Question"}</span>
<span id="cb199-218"><a href="#cb199-218" aria-hidden="true" tabindex="-1"></a>How would you extract "china" from this list?</span>
<span id="cb199-219"><a href="#cb199-219" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb199-220"><a href="#cb199-220" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb199-221"><a href="#cb199-221" aria-hidden="true" tabindex="-1"></a><span class="in">myList &lt;- list(stuff = 3, mat = matrix(1:4, nrow = 2), </span></span>
<span id="cb199-222"><a href="#cb199-222" aria-hidden="true" tabindex="-1"></a><span class="in">   moreStuff = c("china", "japan"), list(5, "bear"))</span></span>
<span id="cb199-223"><a href="#cb199-223" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb199-224"><a href="#cb199-224" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb199-225"><a href="#cb199-225" aria-hidden="true" tabindex="-1"></a>Which of these work correctly?</span>
<span id="cb199-226"><a href="#cb199-226" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb199-227"><a href="#cb199-227" aria-hidden="true" tabindex="-1"></a>1) myList$moreStuff<span class="co">[</span><span class="ot">1</span><span class="co">]</span></span>
<span id="cb199-228"><a href="#cb199-228" aria-hidden="true" tabindex="-1"></a>2) myList$moreStuff[<span class="co">[</span><span class="ot">1</span><span class="co">]</span>]</span>
<span id="cb199-229"><a href="#cb199-229" aria-hidden="true" tabindex="-1"></a>3) myList[<span class="co">[</span><span class="ot">1</span><span class="co">]</span>]</span>
<span id="cb199-230"><a href="#cb199-230" aria-hidden="true" tabindex="-1"></a>4) myList[<span class="co">[</span><span class="ot">3</span><span class="co">]</span>]<span class="co">[</span><span class="ot">2</span><span class="co">]</span></span>
<span id="cb199-231"><a href="#cb199-231" aria-hidden="true" tabindex="-1"></a>5) myList[<span class="co">[</span><span class="ot">3</span><span class="co">]</span>]<span class="co">[</span><span class="ot">1</span><span class="co">]</span></span>
<span id="cb199-232"><a href="#cb199-232" aria-hidden="true" tabindex="-1"></a>6) myList<span class="co">[</span><span class="ot">3</span><span class="co">][1]</span></span>
<span id="cb199-233"><a href="#cb199-233" aria-hidden="true" tabindex="-1"></a>7) myList[<span class="co">[</span><span class="ot">'moreStuff'</span><span class="co">]</span>]<span class="co">[</span><span class="ot">1</span><span class="co">]</span></span>
<span id="cb199-234"><a href="#cb199-234" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb199-235"><a href="#cb199-235" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb199-236"><a href="#cb199-236" aria-hidden="true" tabindex="-1"></a>Lists are just vectors of heterogeneous elements. The <span class="in">`[[`</span> syntax allows you to pick out individual elements.</span>
<span id="cb199-237"><a href="#cb199-237" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb199-238"><a href="#cb199-238" aria-hidden="true" tabindex="-1"></a><span class="fu"># Data frames</span></span>
<span id="cb199-239"><a href="#cb199-239" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb199-240"><a href="#cb199-240" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Data frames are combinations of vectors of the same length, but can be of different types (unlike matrices)</span>
<span id="cb199-241"><a href="#cb199-241" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Data frames are what is used for standard rectangular (record by field) datasets, similar to a spreadsheet sheet/page or a database table</span>
<span id="cb199-242"><a href="#cb199-242" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb199-243"><a href="#cb199-243" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb199-246"><a href="#cb199-246" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb199-247"><a href="#cb199-247" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(gapminder)</span>
<span id="cb199-248"><a href="#cb199-248" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(gapminder)</span>
<span id="cb199-249"><a href="#cb199-249" aria-hidden="true" tabindex="-1"></a>gapminder<span class="sc">$</span>lifeExp[<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>]</span>
<span id="cb199-250"><a href="#cb199-250" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(gapminder)</span>
<span id="cb199-251"><a href="#cb199-251" aria-hidden="true" tabindex="-1"></a><span class="fu">nrow</span>(gapminder)</span>
<span id="cb199-252"><a href="#cb199-252" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(gapminder)</span>
<span id="cb199-253"><a href="#cb199-253" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(gapminder)</span>
<span id="cb199-254"><a href="#cb199-254" aria-hidden="true" tabindex="-1"></a><span class="fu">is.matrix</span>(gapminder)</span>
<span id="cb199-255"><a href="#cb199-255" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(gapminder<span class="sc">$</span>year)</span>
<span id="cb199-256"><a href="#cb199-256" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(gapminder<span class="sc">$</span>lifeExp)</span>
<span id="cb199-257"><a href="#cb199-257" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(gapminder<span class="sc">$</span>country)</span>
<span id="cb199-258"><a href="#cb199-258" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb199-259"><a href="#cb199-259" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb199-260"><a href="#cb199-260" aria-hidden="true" tabindex="-1"></a><span class="fu"># Data frames are (special) lists!</span></span>
<span id="cb199-261"><a href="#cb199-261" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb199-264"><a href="#cb199-264" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb199-265"><a href="#cb199-265" aria-hidden="true" tabindex="-1"></a><span class="fu">is.list</span>(gapminder)</span>
<span id="cb199-266"><a href="#cb199-266" aria-hidden="true" tabindex="-1"></a><span class="fu">length</span>(gapminder)</span>
<span id="cb199-267"><a href="#cb199-267" aria-hidden="true" tabindex="-1"></a>gapminder[[<span class="dv">3</span>]][<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>]</span>
<span id="cb199-268"><a href="#cb199-268" aria-hidden="true" tabindex="-1"></a><span class="fu">lapply</span>(gapminder, class) </span>
<span id="cb199-269"><a href="#cb199-269" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb199-270"><a href="#cb199-270" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb199-271"><a href="#cb199-271" aria-hidden="true" tabindex="-1"></a><span class="in">`lapply()`</span> is a function used on lists; it works here to apply the <span class="in">`class()`</span> function to each element of the list, which in this case is each field/column.</span>
<span id="cb199-272"><a href="#cb199-272" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb199-273"><a href="#cb199-273" aria-hidden="true" tabindex="-1"></a><span class="fu"># Matrices </span></span>
<span id="cb199-274"><a href="#cb199-274" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb199-275"><a href="#cb199-275" aria-hidden="true" tabindex="-1"></a>If you need to do numeric calculations on an entire non-vector object (dimension &gt; 1), you generally want to use matrices and arrays, not data frames.</span>
<span id="cb199-276"><a href="#cb199-276" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb199-277"><a href="#cb199-277" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Matrices are two-dimensional collections of values of the same type.</span>
<span id="cb199-278"><a href="#cb199-278" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>We can have numeric, integer, character, or logical matrices.</span>
<span id="cb199-279"><a href="#cb199-279" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>You can't mix types within a matrix.</span>
<span id="cb199-280"><a href="#cb199-280" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb199-283"><a href="#cb199-283" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb199-284"><a href="#cb199-284" aria-hidden="true" tabindex="-1"></a>mat <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="fu">rnorm</span>(<span class="dv">12</span>), <span class="at">nrow =</span> <span class="dv">3</span>, <span class="at">ncol =</span> <span class="dv">4</span>)</span>
<span id="cb199-285"><a href="#cb199-285" aria-hidden="true" tabindex="-1"></a>mat</span>
<span id="cb199-286"><a href="#cb199-286" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb199-287"><a href="#cb199-287" aria-hidden="true" tabindex="-1"></a><span class="do">## Basic linear algebra</span></span>
<span id="cb199-288"><a href="#cb199-288" aria-hidden="true" tabindex="-1"></a>n <span class="ot">&lt;-</span> <span class="dv">4</span></span>
<span id="cb199-289"><a href="#cb199-289" aria-hidden="true" tabindex="-1"></a>A <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">16</span>, <span class="dv">4</span>)</span>
<span id="cb199-290"><a href="#cb199-290" aria-hidden="true" tabindex="-1"></a>B <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="dv">1</span>, <span class="dv">4</span>, <span class="dv">4</span>)</span>
<span id="cb199-291"><a href="#cb199-291" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb199-292"><a href="#cb199-292" aria-hidden="true" tabindex="-1"></a>A <span class="sc">%*%</span> B[ , <span class="dv">1</span>]</span>
<span id="cb199-293"><a href="#cb199-293" aria-hidden="true" tabindex="-1"></a>A <span class="sc">%*%</span> B</span>
<span id="cb199-294"><a href="#cb199-294" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb199-295"><a href="#cb199-295" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb199-296"><a href="#cb199-296" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb199-297"><a href="#cb199-297" aria-hidden="true" tabindex="-1"></a><span class="fu"># Arrays</span></span>
<span id="cb199-298"><a href="#cb199-298" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb199-299"><a href="#cb199-299" aria-hidden="true" tabindex="-1"></a>Arrays are like matrices but can have more or fewer than two dimensions.</span>
<span id="cb199-302"><a href="#cb199-302" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb199-303"><a href="#cb199-303" aria-hidden="true" tabindex="-1"></a>arr <span class="ot">&lt;-</span> <span class="fu">array</span>(<span class="fu">rnorm</span>(<span class="dv">12</span>), <span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>))</span>
<span id="cb199-304"><a href="#cb199-304" aria-hidden="true" tabindex="-1"></a>arr</span>
<span id="cb199-305"><a href="#cb199-305" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb199-306"><a href="#cb199-306" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb199-307"><a href="#cb199-307" aria-hidden="true" tabindex="-1"></a><span class="fu"># Dictionaries</span></span>
<span id="cb199-308"><a href="#cb199-308" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb199-309"><a href="#cb199-309" aria-hidden="true" tabindex="-1"></a>R does not have dictionaries. For collections of key-value pairs, you can instead use named vectors or named lists.</span>
<span id="cb199-310"><a href="#cb199-310" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb199-313"><a href="#cb199-313" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb199-314"><a href="#cb199-314" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">3</span>, <span class="dv">5</span>, <span class="dv">7</span>)</span>
<span id="cb199-315"><a href="#cb199-315" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(x) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"sarah"</span>, <span class="st">"carlos"</span>, <span class="st">"maude"</span>)  <span class="co"># Homogeneous</span></span>
<span id="cb199-316"><a href="#cb199-316" aria-hidden="true" tabindex="-1"></a>x[<span class="st">'carlos'</span>]</span>
<span id="cb199-317"><a href="#cb199-317" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb199-318"><a href="#cb199-318" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="st">"sarah"</span> <span class="ot">=</span> <span class="dv">3</span>, <span class="st">"carlos"</span> <span class="ot">=</span> <span class="st">"foo"</span>, <span class="st">"maude"</span> <span class="ot">=</span> <span class="fu">rnorm</span>(<span class="dv">4</span>))  <span class="co"># Heterogeneous</span></span>
<span id="cb199-319"><a href="#cb199-319" aria-hidden="true" tabindex="-1"></a>x[[<span class="st">'maude'</span>]]</span>
<span id="cb199-320"><a href="#cb199-320" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb199-321"><a href="#cb199-321" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb199-322"><a href="#cb199-322" aria-hidden="true" tabindex="-1"></a>However, lookup does NOT use hashing, so it is O(n) cost. One could instead use R's environments for fast hash-based lookup.</span>
<span id="cb199-323"><a href="#cb199-323" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb199-324"><a href="#cb199-324" aria-hidden="true" tabindex="-1"></a><span class="fu"># Attributes</span></span>
<span id="cb199-325"><a href="#cb199-325" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb199-326"><a href="#cb199-326" aria-hidden="true" tabindex="-1"></a>Objects have *attributes*.</span>
<span id="cb199-327"><a href="#cb199-327" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb199-328"><a href="#cb199-328" aria-hidden="true" tabindex="-1"></a><span class="in">```{r attr}</span></span>
<span id="cb199-329"><a href="#cb199-329" aria-hidden="true" tabindex="-1"></a><span class="in">attributes(mat)</span></span>
<span id="cb199-330"><a href="#cb199-330" aria-hidden="true" tabindex="-1"></a><span class="in">rownames(mat) &lt;- c('first', 'middle', 'last')</span></span>
<span id="cb199-331"><a href="#cb199-331" aria-hidden="true" tabindex="-1"></a><span class="in">mat</span></span>
<span id="cb199-332"><a href="#cb199-332" aria-hidden="true" tabindex="-1"></a><span class="in">attributes(mat)</span></span>
<span id="cb199-333"><a href="#cb199-333" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb199-334"><a href="#cb199-334" aria-hidden="true" tabindex="-1"></a><span class="in">names(attributes(gapminder))</span></span>
<span id="cb199-335"><a href="#cb199-335" aria-hidden="true" tabindex="-1"></a><span class="in">attributes(gapminder)$names</span></span>
<span id="cb199-336"><a href="#cb199-336" aria-hidden="true" tabindex="-1"></a><span class="in">attributes(gapminder)$row.names[1:10]</span></span>
<span id="cb199-337"><a href="#cb199-337" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb199-338"><a href="#cb199-338" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb199-339"><a href="#cb199-339" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb199-340"><a href="#cb199-340" aria-hidden="true" tabindex="-1"></a><span class="fu"># Missing values and other special values</span></span>
<span id="cb199-341"><a href="#cb199-341" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb199-342"><a href="#cb199-342" aria-hidden="true" tabindex="-1"></a>Since it was designed by statisticians, R handles missing values very well relative to other languages.</span>
<span id="cb199-343"><a href="#cb199-343" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb199-344"><a href="#cb199-344" aria-hidden="true" tabindex="-1"></a><span class="fu">##  `NA` is a missing value</span></span>
<span id="cb199-345"><a href="#cb199-345" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb199-346"><a href="#cb199-346" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, fig.cap = ""}</span></span>
<span id="cb199-347"><a href="#cb199-347" aria-hidden="true" tabindex="-1"></a><span class="in">vec &lt;- rnorm(12)</span></span>
<span id="cb199-348"><a href="#cb199-348" aria-hidden="true" tabindex="-1"></a><span class="in">vec[c(3, 5)] &lt;- NA</span></span>
<span id="cb199-349"><a href="#cb199-349" aria-hidden="true" tabindex="-1"></a><span class="in">vec</span></span>
<span id="cb199-350"><a href="#cb199-350" aria-hidden="true" tabindex="-1"></a><span class="in">length(vec)</span></span>
<span id="cb199-351"><a href="#cb199-351" aria-hidden="true" tabindex="-1"></a><span class="in">sum(vec)</span></span>
<span id="cb199-352"><a href="#cb199-352" aria-hidden="true" tabindex="-1"></a><span class="in">sum(vec, na.rm = TRUE)</span></span>
<span id="cb199-353"><a href="#cb199-353" aria-hidden="true" tabindex="-1"></a><span class="in">hist(vec)</span></span>
<span id="cb199-354"><a href="#cb199-354" aria-hidden="true" tabindex="-1"></a><span class="in">is.na(vec)</span></span>
<span id="cb199-355"><a href="#cb199-355" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb199-356"><a href="#cb199-356" aria-hidden="true" tabindex="-1"></a>Be careful because many R functions won't warn you that they are ignoring the missing values.</span>
<span id="cb199-357"><a href="#cb199-357" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb199-358"><a href="#cb199-358" aria-hidden="true" tabindex="-1"></a><span class="fu">##  To infinity and beyond</span></span>
<span id="cb199-361"><a href="#cb199-361" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb199-362"><a href="#cb199-362" aria-hidden="true" tabindex="-1"></a>big <span class="ot">&lt;-</span> <span class="fl">1e500</span> </span>
<span id="cb199-363"><a href="#cb199-363" aria-hidden="true" tabindex="-1"></a>big</span>
<span id="cb199-364"><a href="#cb199-364" aria-hidden="true" tabindex="-1"></a>big <span class="sc">+</span> <span class="dv">7</span></span>
<span id="cb199-365"><a href="#cb199-365" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb199-366"><a href="#cb199-366" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb199-367"><a href="#cb199-367" aria-hidden="true" tabindex="-1"></a><span class="fu">##  `NaN` stands for Not a Number</span></span>
<span id="cb199-370"><a href="#cb199-370" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb199-371"><a href="#cb199-371" aria-hidden="true" tabindex="-1"></a><span class="fu">sqrt</span>(<span class="sc">-</span><span class="dv">5</span>)</span>
<span id="cb199-372"><a href="#cb199-372" aria-hidden="true" tabindex="-1"></a>big <span class="sc">-</span> big</span>
<span id="cb199-373"><a href="#cb199-373" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span><span class="sc">/</span><span class="dv">0</span></span>
<span id="cb199-374"><a href="#cb199-374" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb199-375"><a href="#cb199-375" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb199-376"><a href="#cb199-376" aria-hidden="true" tabindex="-1"></a><span class="fu">##  `NULL`</span></span>
<span id="cb199-377"><a href="#cb199-377" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb199-378"><a href="#cb199-378" aria-hidden="true" tabindex="-1"></a><span class="in">`NA`</span> can hold a place but <span class="in">`NULL`</span> cannot.</span>
<span id="cb199-379"><a href="#cb199-379" aria-hidden="true" tabindex="-1"></a><span class="in">`NULL`</span> is useful for having a function argument default to 'nothing'. See <span class="in">`help(crossprod)`</span>, which can compute either $X^{\top}X$ or $X^{\top}Y$.  </span>
<span id="cb199-380"><a href="#cb199-380" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb199-383"><a href="#cb199-383" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb199-384"><a href="#cb199-384" aria-hidden="true" tabindex="-1"></a><span class="fu">c</span>(<span class="dv">3</span>, <span class="cn">NA</span>, <span class="dv">7</span>)</span>
<span id="cb199-385"><a href="#cb199-385" aria-hidden="true" tabindex="-1"></a><span class="fu">c</span>(<span class="dv">3</span>, <span class="cn">NULL</span>, <span class="dv">7</span>)</span>
<span id="cb199-386"><a href="#cb199-386" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb199-387"><a href="#cb199-387" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb199-388"><a href="#cb199-388" aria-hidden="true" tabindex="-1"></a>mylist <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="dv">3</span>, <span class="dv">5</span>, <span class="dv">7</span>)</span>
<span id="cb199-389"><a href="#cb199-389" aria-hidden="true" tabindex="-1"></a>mylist[[<span class="dv">2</span>]] <span class="ot">&lt;-</span> <span class="cn">NULL</span></span>
<span id="cb199-390"><a href="#cb199-390" aria-hidden="true" tabindex="-1"></a>mylist</span>
<span id="cb199-391"><a href="#cb199-391" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb199-392"><a href="#cb199-392" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb199-393"><a href="#cb199-393" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb199-394"><a href="#cb199-394" aria-hidden="true" tabindex="-1"></a><span class="fu"># Logical vectors and boolean arithmetic</span></span>
<span id="cb199-395"><a href="#cb199-395" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb199-398"><a href="#cb199-398" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb199-399"><a href="#cb199-399" aria-hidden="true" tabindex="-1"></a>gapminder2007 <span class="ot">&lt;-</span> gapminder[gapminder<span class="sc">$</span>year <span class="sc">==</span> <span class="dv">2007</span>, ]</span>
<span id="cb199-400"><a href="#cb199-400" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb199-401"><a href="#cb199-401" aria-hidden="true" tabindex="-1"></a>wealthy <span class="ot">&lt;-</span> gapminder2007<span class="sc">$</span>gdpPercap <span class="sc">&gt;</span> <span class="dv">35000</span></span>
<span id="cb199-402"><a href="#cb199-402" aria-hidden="true" tabindex="-1"></a>healthy <span class="ot">&lt;-</span> gapminder2007<span class="sc">$</span>lifeExp <span class="sc">&gt;</span> <span class="dv">75</span></span>
<span id="cb199-403"><a href="#cb199-403" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb199-404"><a href="#cb199-404" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(wealthy)</span>
<span id="cb199-405"><a href="#cb199-405" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(wealthy)</span>
<span id="cb199-406"><a href="#cb199-406" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb199-407"><a href="#cb199-407" aria-hidden="true" tabindex="-1"></a><span class="co"># note the vectorized boolean arithmetic</span></span>
<span id="cb199-408"><a href="#cb199-408" aria-hidden="true" tabindex="-1"></a>gapminder2007[wealthy <span class="sc">&amp;</span> healthy, ]</span>
<span id="cb199-409"><a href="#cb199-409" aria-hidden="true" tabindex="-1"></a>gapminder2007[wealthy <span class="sc">|</span> healthy, ]</span>
<span id="cb199-410"><a href="#cb199-410" aria-hidden="true" tabindex="-1"></a>gapminder2007[wealthy <span class="sc">&amp;</span> <span class="sc">!</span>healthy, ]</span>
<span id="cb199-411"><a href="#cb199-411" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb199-412"><a href="#cb199-412" aria-hidden="true" tabindex="-1"></a><span class="co"># Numerical computation with booleans</span></span>
<span id="cb199-413"><a href="#cb199-413" aria-hidden="true" tabindex="-1"></a><span class="fu">sum</span>(healthy)</span>
<span id="cb199-414"><a href="#cb199-414" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(healthy)</span>
<span id="cb199-415"><a href="#cb199-415" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb199-416"><a href="#cb199-416" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb199-417"><a href="#cb199-417" aria-hidden="true" tabindex="-1"></a><span class="fu"># Converting between different types of objects</span></span>
<span id="cb199-418"><a href="#cb199-418" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb199-419"><a href="#cb199-419" aria-hidden="true" tabindex="-1"></a>You can use the <span class="in">`as()`</span> family of functions.</span>
<span id="cb199-420"><a href="#cb199-420" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb199-423"><a href="#cb199-423" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb199-424"><a href="#cb199-424" aria-hidden="true" tabindex="-1"></a>ints <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">10</span></span>
<span id="cb199-425"><a href="#cb199-425" aria-hidden="true" tabindex="-1"></a><span class="fu">as.character</span>(ints)</span>
<span id="cb199-426"><a href="#cb199-426" aria-hidden="true" tabindex="-1"></a><span class="fu">as.numeric</span>(<span class="fu">c</span>(<span class="st">'3.7'</span>, <span class="st">'4.8'</span>))</span>
<span id="cb199-427"><a href="#cb199-427" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb199-428"><a href="#cb199-428" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb199-429"><a href="#cb199-429" aria-hidden="true" tabindex="-1"></a>Be careful: R tries to be helpful and convert between types/classes when it thinks it's a good idea. Sometimes it is overly optimistic. </span>
<span id="cb199-430"><a href="#cb199-430" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb199-433"><a href="#cb199-433" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb199-434"><a href="#cb199-434" aria-hidden="true" tabindex="-1"></a>indices <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fl">1.7</span>, <span class="fl">2.3</span>)</span>
<span id="cb199-435"><a href="#cb199-435" aria-hidden="true" tabindex="-1"></a>ints[indices]</span>
<span id="cb199-436"><a href="#cb199-436" aria-hidden="true" tabindex="-1"></a>ints[<span class="fl">0.999999999</span>]</span>
<span id="cb199-437"><a href="#cb199-437" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb199-438"><a href="#cb199-438" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb199-439"><a href="#cb199-439" aria-hidden="true" tabindex="-1"></a><span class="fu"># Factors</span></span>
<span id="cb199-440"><a href="#cb199-440" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb199-441"><a href="#cb199-441" aria-hidden="true" tabindex="-1"></a>A factor is a special data type in R used for categorical data. In some cases it works like magic and in others it is frustrating. </span>
<span id="cb199-442"><a href="#cb199-442" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb199-443"><a href="#cb199-443" aria-hidden="true" tabindex="-1"></a><span class="in">```{r fac}</span></span>
<span id="cb199-444"><a href="#cb199-444" aria-hidden="true" tabindex="-1"></a><span class="in">## let's read the Gapminder data from a file with a special argument:</span></span>
<span id="cb199-445"><a href="#cb199-445" aria-hidden="true" tabindex="-1"></a><span class="in">gapminder &lt;- read.csv(file.path('..', 'data', 'gapminder-FiveYearData.csv'),</span></span>
<span id="cb199-446"><a href="#cb199-446" aria-hidden="true" tabindex="-1"></a><span class="in">          stringsAsFactors = TRUE) </span></span>
<span id="cb199-447"><a href="#cb199-447" aria-hidden="true" tabindex="-1"></a><span class="in">class(gapminder$continent)</span></span>
<span id="cb199-448"><a href="#cb199-448" aria-hidden="true" tabindex="-1"></a><span class="in">head(gapminder$continent) # What order are the factors in?</span></span>
<span id="cb199-449"><a href="#cb199-449" aria-hidden="true" tabindex="-1"></a><span class="in">levels(gapminder[["continent"]])  # note alternate way to get the variable</span></span>
<span id="cb199-450"><a href="#cb199-450" aria-hidden="true" tabindex="-1"></a><span class="in">summary(gapminder$continent)</span></span>
<span id="cb199-451"><a href="#cb199-451" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb199-452"><a href="#cb199-452" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb199-453"><a href="#cb199-453" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb199-454"><a href="#cb199-454" aria-hidden="true" tabindex="-1"></a><span class="fu"># Strings</span></span>
<span id="cb199-455"><a href="#cb199-455" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb199-456"><a href="#cb199-456" aria-hidden="true" tabindex="-1"></a>R has <span class="co">[</span><span class="ot">lots of functionality for text/string manipulation</span><span class="co">](http://computing.stat.berkeley.edu/tutorial-string-processing)</span>. Usually these are stored as vectors of strings, each string of arbitrary length.</span>
<span id="cb199-457"><a href="#cb199-457" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb199-458"><a href="#cb199-458" aria-hidden="true" tabindex="-1"></a>There is some basic string processing syntax here, but most users use the <span class="in">`stringr`</span> package for a nicer user interface.</span>
<span id="cb199-459"><a href="#cb199-459" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb199-462"><a href="#cb199-462" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb199-463"><a href="#cb199-463" aria-hidden="true" tabindex="-1"></a>chars <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">'hi'</span>, <span class="st">'hallo'</span>, <span class="st">"mother's"</span>, <span class="st">'father</span><span class="sc">\'</span><span class="st">s'</span>, <span class="st">"He said, </span><span class="sc">\"</span><span class="st">hi</span><span class="sc">\"</span><span class="st">"</span> )</span>
<span id="cb199-464"><a href="#cb199-464" aria-hidden="true" tabindex="-1"></a><span class="fu">length</span>(chars)</span>
<span id="cb199-465"><a href="#cb199-465" aria-hidden="true" tabindex="-1"></a><span class="fu">nchar</span>(chars)</span>
<span id="cb199-466"><a href="#cb199-466" aria-hidden="true" tabindex="-1"></a><span class="fu">paste</span>(<span class="st">"bill"</span>, <span class="st">"clinton"</span>, <span class="at">sep =</span> <span class="st">" "</span>)  <span class="co"># paste together a set of strings</span></span>
<span id="cb199-467"><a href="#cb199-467" aria-hidden="true" tabindex="-1"></a><span class="fu">paste</span>(chars, <span class="at">collapse =</span> <span class="st">' '</span>)  <span class="co"># paste together things from a vector</span></span>
<span id="cb199-468"><a href="#cb199-468" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb199-469"><a href="#cb199-469" aria-hidden="true" tabindex="-1"></a><span class="fu">strsplit</span>(<span class="st">"This is the R bootcamp"</span>, <span class="at">split =</span> <span class="st">" "</span>)</span>
<span id="cb199-470"><a href="#cb199-470" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb199-471"><a href="#cb199-471" aria-hidden="true" tabindex="-1"></a>countries <span class="ot">&lt;-</span> <span class="fu">as.character</span>(gapminder2007<span class="sc">$</span>country)</span>
<span id="cb199-472"><a href="#cb199-472" aria-hidden="true" tabindex="-1"></a><span class="fu">substring</span>(countries, <span class="dv">1</span>, <span class="dv">3</span>)</span>
<span id="cb199-473"><a href="#cb199-473" aria-hidden="true" tabindex="-1"></a>tmp <span class="ot">&lt;-</span> countries</span>
<span id="cb199-474"><a href="#cb199-474" aria-hidden="true" tabindex="-1"></a><span class="fu">substring</span>(tmp, <span class="dv">5</span>, <span class="dv">10</span>) <span class="ot">&lt;-</span> <span class="st">"______"</span></span>
<span id="cb199-475"><a href="#cb199-475" aria-hidden="true" tabindex="-1"></a>tmp[<span class="dv">1</span><span class="sc">:</span><span class="dv">20</span>]</span>
<span id="cb199-476"><a href="#cb199-476" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb199-477"><a href="#cb199-477" aria-hidden="true" tabindex="-1"></a>We can search for patterns in character vectors and replace patterns (both vectorized!)</span>
<span id="cb199-480"><a href="#cb199-480" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb199-481"><a href="#cb199-481" aria-hidden="true" tabindex="-1"></a>indexes <span class="ot">&lt;-</span> <span class="fu">grep</span>(<span class="st">"Korea"</span>, countries)</span>
<span id="cb199-482"><a href="#cb199-482" aria-hidden="true" tabindex="-1"></a>indexes</span>
<span id="cb199-483"><a href="#cb199-483" aria-hidden="true" tabindex="-1"></a>countries[indexes]</span>
<span id="cb199-484"><a href="#cb199-484" aria-hidden="true" tabindex="-1"></a>countries2 <span class="ot">&lt;-</span> <span class="fu">gsub</span>(<span class="st">"Korea, Dem. Rep."</span>, <span class="st">"North Korea"</span>, countries)</span>
<span id="cb199-485"><a href="#cb199-485" aria-hidden="true" tabindex="-1"></a>countries2[indexes]</span>
<span id="cb199-486"><a href="#cb199-486" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb199-487"><a href="#cb199-487" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb199-488"><a href="#cb199-488" aria-hidden="true" tabindex="-1"></a>One can easily use regular expressions with all of R's string processing tools.</span>
<span id="cb199-489"><a href="#cb199-489" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb199-490"><a href="#cb199-490" aria-hidden="true" tabindex="-1"></a><span class="fu"># Subsetting</span></span>
<span id="cb199-491"><a href="#cb199-491" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb199-492"><a href="#cb199-492" aria-hidden="true" tabindex="-1"></a>There are many ways to select subsets in R, as we've seen already for vectors. The syntax below is useful for vectors, matrices, data frames, arrays and lists.</span>
<span id="cb199-493"><a href="#cb199-493" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb199-496"><a href="#cb199-496" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb199-497"><a href="#cb199-497" aria-hidden="true" tabindex="-1"></a>vec <span class="ot">&lt;-</span> gapminder2007<span class="sc">$</span>lifeExp</span>
<span id="cb199-498"><a href="#cb199-498" aria-hidden="true" tabindex="-1"></a>mat <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">20</span>, <span class="dv">4</span>, <span class="dv">5</span>)</span>
<span id="cb199-499"><a href="#cb199-499" aria-hidden="true" tabindex="-1"></a><span class="fu">rownames</span>(mat) <span class="ot">&lt;-</span> letters[<span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>]</span>
<span id="cb199-500"><a href="#cb199-500" aria-hidden="true" tabindex="-1"></a>mat</span>
<span id="cb199-501"><a href="#cb199-501" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb199-502"><a href="#cb199-502" aria-hidden="true" tabindex="-1"></a><span class="fu">## 1) by direct indexing</span></span>
<span id="cb199-503"><a href="#cb199-503" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb199-506"><a href="#cb199-506" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb199-507"><a href="#cb199-507" aria-hidden="true" tabindex="-1"></a>vec[<span class="fu">c</span>(<span class="dv">3</span>, <span class="dv">5</span>, <span class="dv">12</span><span class="sc">:</span><span class="dv">14</span>)]</span>
<span id="cb199-508"><a href="#cb199-508" aria-hidden="true" tabindex="-1"></a>vec[<span class="sc">-</span><span class="fu">c</span>(<span class="dv">3</span>,<span class="dv">5</span>)]</span>
<span id="cb199-509"><a href="#cb199-509" aria-hidden="true" tabindex="-1"></a>gapminder[<span class="fu">c</span>(<span class="dv">2</span>,<span class="dv">4</span>), <span class="dv">5</span>]</span>
<span id="cb199-510"><a href="#cb199-510" aria-hidden="true" tabindex="-1"></a>gapminder[<span class="fu">c</span>(<span class="dv">2</span>,<span class="dv">4</span>), <span class="st">'lifeExp'</span>]</span>
<span id="cb199-511"><a href="#cb199-511" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb199-512"><a href="#cb199-512" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb199-513"><a href="#cb199-513" aria-hidden="true" tabindex="-1"></a><span class="fu">## 2) by a vector of logicals</span></span>
<span id="cb199-514"><a href="#cb199-514" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb199-517"><a href="#cb199-517" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb199-518"><a href="#cb199-518" aria-hidden="true" tabindex="-1"></a>wealthy <span class="ot">&lt;-</span> gapminder<span class="sc">$</span>gdpPercap <span class="sc">&gt;</span> <span class="dv">50000</span></span>
<span id="cb199-519"><a href="#cb199-519" aria-hidden="true" tabindex="-1"></a>gapminder<span class="sc">$</span>gdpPercap[wealthy]</span>
<span id="cb199-520"><a href="#cb199-520" aria-hidden="true" tabindex="-1"></a>gapminder[wealthy, ]</span>
<span id="cb199-521"><a href="#cb199-521" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb199-522"><a href="#cb199-522" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb199-523"><a href="#cb199-523" aria-hidden="true" tabindex="-1"></a>What happened in the last subsetting operation?</span>
<span id="cb199-524"><a href="#cb199-524" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb199-525"><a href="#cb199-525" aria-hidden="true" tabindex="-1"></a><span class="fu">## 3) by a vector of names</span></span>
<span id="cb199-528"><a href="#cb199-528" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb199-529"><a href="#cb199-529" aria-hidden="true" tabindex="-1"></a>mat[<span class="fu">c</span>(<span class="st">'a'</span>, <span class="st">'d'</span>, <span class="st">'a'</span>), ]</span>
<span id="cb199-530"><a href="#cb199-530" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb199-531"><a href="#cb199-531" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb199-532"><a href="#cb199-532" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb199-533"><a href="#cb199-533" aria-hidden="true" tabindex="-1"></a><span class="fu">## 4) using *dplyr* tools such as *filter()* and *select()* -- more in Module 4</span></span>
<span id="cb199-534"><a href="#cb199-534" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb199-535"><a href="#cb199-535" aria-hidden="true" tabindex="-1"></a><span class="fu"># Assignment into subsets</span></span>
<span id="cb199-536"><a href="#cb199-536" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb199-537"><a href="#cb199-537" aria-hidden="true" tabindex="-1"></a>We can assign into subsets by using similar syntax, as we saw with vectors.</span>
<span id="cb199-538"><a href="#cb199-538" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb199-541"><a href="#cb199-541" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb199-542"><a href="#cb199-542" aria-hidden="true" tabindex="-1"></a>vec <span class="ot">&lt;-</span> <span class="fu">rnorm</span>(<span class="dv">20</span>)</span>
<span id="cb199-543"><a href="#cb199-543" aria-hidden="true" tabindex="-1"></a>vec[<span class="fu">c</span>(<span class="dv">3</span>, <span class="dv">5</span>, <span class="dv">12</span><span class="sc">:</span><span class="dv">14</span>)] <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">5</span></span>
<span id="cb199-544"><a href="#cb199-544" aria-hidden="true" tabindex="-1"></a>vec</span>
<span id="cb199-545"><a href="#cb199-545" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb199-546"><a href="#cb199-546" aria-hidden="true" tabindex="-1"></a>mat <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="fu">rnorm</span>(<span class="dv">6</span><span class="sc">*</span><span class="dv">5</span>), <span class="at">nrow =</span> <span class="dv">6</span>)</span>
<span id="cb199-547"><a href="#cb199-547" aria-hidden="true" tabindex="-1"></a>mat[<span class="dv">2</span>, <span class="dv">3</span><span class="sc">:</span><span class="dv">5</span>] <span class="ot">&lt;-</span> <span class="fu">rnorm</span>(<span class="dv">3</span>)</span>
<span id="cb199-548"><a href="#cb199-548" aria-hidden="true" tabindex="-1"></a>mat</span>
<span id="cb199-549"><a href="#cb199-549" aria-hidden="true" tabindex="-1"></a>mat[mat[,<span class="dv">1</span>] <span class="sc">&gt;</span> <span class="dv">0</span>, ] <span class="ot">&lt;-</span> <span class="sc">-</span><span class="cn">Inf</span></span>
<span id="cb199-550"><a href="#cb199-550" aria-hidden="true" tabindex="-1"></a>mat</span>
<span id="cb199-551"><a href="#cb199-551" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb199-552"><a href="#cb199-552" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb199-553"><a href="#cb199-553" aria-hidden="true" tabindex="-1"></a>::: {.callout-tip title="Question"}</span>
<span id="cb199-554"><a href="#cb199-554" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb199-555"><a href="#cb199-555" aria-hidden="true" tabindex="-1"></a>Suppose I want to select the 3rd elements from the 2nd and 4th columns of a matrix or dataframe. Which syntax will work?</span>
<span id="cb199-556"><a href="#cb199-556" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb199-557"><a href="#cb199-557" aria-hidden="true" tabindex="-1"></a>Here's a test matrix:</span>
<span id="cb199-558"><a href="#cb199-558" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb199-559"><a href="#cb199-559" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb199-560"><a href="#cb199-560" aria-hidden="true" tabindex="-1"></a><span class="in">mat &lt;- matrix(1:16, nrow = 4, ncol = 4)</span></span>
<span id="cb199-561"><a href="#cb199-561" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb199-562"><a href="#cb199-562" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb199-563"><a href="#cb199-563" aria-hidden="true" tabindex="-1"></a>1) mat<span class="co">[</span><span class="ot">3, (2, 4)</span><span class="co">]</span></span>
<span id="cb199-564"><a href="#cb199-564" aria-hidden="true" tabindex="-1"></a>2) mat<span class="co">[</span><span class="ot">c(FALSE, FALSE, TRUE, FALSE), c(FALSE, TRUE, FALSE, TRUE)</span><span class="co">]</span></span>
<span id="cb199-565"><a href="#cb199-565" aria-hidden="true" tabindex="-1"></a>3) mat<span class="co">[</span><span class="ot">c(FALSE, FALSE, TRUE, FALSE), c(2, 4)</span><span class="co">]</span></span>
<span id="cb199-566"><a href="#cb199-566" aria-hidden="true" tabindex="-1"></a>4) mat<span class="co">[</span><span class="ot">3, c(2, 4)</span><span class="co">]</span></span>
<span id="cb199-567"><a href="#cb199-567" aria-hidden="true" tabindex="-1"></a>5) mat(3, c(2, 4))</span>
<span id="cb199-568"><a href="#cb199-568" aria-hidden="true" tabindex="-1"></a>6) mat<span class="co">[</span><span class="ot">3, </span><span class="co">][c(2, 4)]</span></span>
<span id="cb199-569"><a href="#cb199-569" aria-hidden="true" tabindex="-1"></a>7) mat<span class="co">[</span><span class="ot"> , c(2, 4)</span><span class="co">][3, ]</span></span>
<span id="cb199-570"><a href="#cb199-570" aria-hidden="true" tabindex="-1"></a>8) mat<span class="co">[</span><span class="ot"> , c(2, 4)</span><span class="co">][3]</span></span>
<span id="cb199-571"><a href="#cb199-571" aria-hidden="true" tabindex="-1"></a>9) mat<span class="co">[</span><span class="ot">c(2, 4)</span><span class="co">][3, ]</span></span>
<span id="cb199-572"><a href="#cb199-572" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb199-573"><a href="#cb199-573" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb199-574"><a href="#cb199-574" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb199-575"><a href="#cb199-575" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb199-576"><a href="#cb199-576" aria-hidden="true" tabindex="-1"></a><span class="fu"># Breakout</span></span>
<span id="cb199-577"><a href="#cb199-577" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb199-578"><a href="#cb199-578" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb199-579"><a href="#cb199-579" aria-hidden="true" tabindex="-1"></a><span class="fu">### Basics</span></span>
<span id="cb199-580"><a href="#cb199-580" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb199-581"><a href="#cb199-581" aria-hidden="true" tabindex="-1"></a>1) Extract the 5th row from the gapminder dataset.</span>
<span id="cb199-582"><a href="#cb199-582" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb199-583"><a href="#cb199-583" aria-hidden="true" tabindex="-1"></a>2) Extract the last row from the gapminder dataset. </span>
<span id="cb199-584"><a href="#cb199-584" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb199-585"><a href="#cb199-585" aria-hidden="true" tabindex="-1"></a>3) Create a boolean (TRUE/FALSE) vector indicating whether total country GDP is greater than 1 trillion dollars. When entering 1 trillion, use R's scientific notation.</span>
<span id="cb199-586"><a href="#cb199-586" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb199-587"><a href="#cb199-587" aria-hidden="true" tabindex="-1"></a>4) Count the number of gdpPercap values greater than 50000 in the gapminder dataset.</span>
<span id="cb199-588"><a href="#cb199-588" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb199-589"><a href="#cb199-589" aria-hidden="true" tabindex="-1"></a>5) Set all of the gdpPercap values greater than 50000 to NA. You should probably first copy the <span class="in">`gapminder`</span> object and work on the copy so that the dataset is unchanged, so that you preserve the original data to use later.</span>
<span id="cb199-590"><a href="#cb199-590" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb199-591"><a href="#cb199-591" aria-hidden="true" tabindex="-1"></a>6) Consider the first row of the gapminder dataset, which has Afghanistan for 1952. How do I create a string "Afghanistan-1952" using <span class="in">`gap$country[1]`</span> and <span class="in">`gap$year[1]`</span>? </span>
<span id="cb199-592"><a href="#cb199-592" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb199-593"><a href="#cb199-593" aria-hidden="true" tabindex="-1"></a><span class="fu">### Using the ideas</span></span>
<span id="cb199-594"><a href="#cb199-594" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb199-595"><a href="#cb199-595" aria-hidden="true" tabindex="-1"></a>7) Create a character string using <span class="in">`paste()`</span> that tells the user how many rows there are in the data frame - do this programmatically such that it would work for any data frame regardless of how many rows it has. The result should look like this: "There are 1704 rows in the dataset"</span>
<span id="cb199-596"><a href="#cb199-596" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb199-597"><a href="#cb199-597" aria-hidden="true" tabindex="-1"></a>8) If you didn't do it this way already in problem #2, extract the last row from the gapminder dataset without typing the number '1704'.</span>
<span id="cb199-598"><a href="#cb199-598" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb199-599"><a href="#cb199-599" aria-hidden="true" tabindex="-1"></a>9) Create a boolean vector indicating if the life expectancy is greater than 75 and the gdpPercap is less than 10000 and calculate the proportion of all the records these represent.</span>
<span id="cb199-600"><a href="#cb199-600" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb199-601"><a href="#cb199-601" aria-hidden="true" tabindex="-1"></a>10) Use that vector to create a new data frame that is a subset of the original data frame.</span>
<span id="cb199-602"><a href="#cb199-602" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb199-603"><a href="#cb199-603" aria-hidden="true" tabindex="-1"></a>11) Consider the attributes of the gapminder dataset. What kind of R object is the set of attributes?</span>
<span id="cb199-604"><a href="#cb199-604" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb199-605"><a href="#cb199-605" aria-hidden="true" tabindex="-1"></a><span class="fu">### Advanced</span></span>
<span id="cb199-606"><a href="#cb199-606" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb199-607"><a href="#cb199-607" aria-hidden="true" tabindex="-1"></a>12) Consider the following regression model.  Figure out how to extract the $R^2$ and residual standard error and store in new R variables. </span>
<span id="cb199-608"><a href="#cb199-608" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb199-609"><a href="#cb199-609" aria-hidden="true" tabindex="-1"></a><span class="in">    ```{r}</span></span>
<span id="cb199-610"><a href="#cb199-610" aria-hidden="true" tabindex="-1"></a><span class="in">    mod &lt;- lm(lifeExp ~ log(gdpPercap), data = gapminder)</span></span>
<span id="cb199-611"><a href="#cb199-611" aria-hidden="true" tabindex="-1"></a><span class="in">    summ &lt;- summary(mod)</span></span>
<span id="cb199-612"><a href="#cb199-612" aria-hidden="true" tabindex="-1"></a><span class="in">    ```</span></span>
<span id="cb199-613"><a href="#cb199-613" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb199-614"><a href="#cb199-614" aria-hidden="true" tabindex="-1"></a>13) Create row names for the data frame based on concatenating the Continent, Country, and Year fields.</span>
</code><button title="Copy to Clipboard" class="code-copy-button" data-in-quarto-modal=""><i class="bi"></i></button></pre></div>
</div></div></div></div></div>
</div> <!-- /content -->




</body></html>